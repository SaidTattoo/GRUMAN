"use strict";(self.webpackChunkSpike=self.webpackChunkSpike||[]).push([[7608],{7608:(me,$,a)=>{a.r($),a.d($,{SOLICITAR_VISITA_ROUTES:()=>le});var w=a(467),d=a(9417),h=a(3719),L=a(2798),S=a(5596),b=a(5084),V=a(9631),A=a(6600),T=a(8834),C=a(177),R=a(9213),O=a(8032),j=a.n(O),D=a(446),G=a(1413),v=a(7673),I=a(1985),k=a(6977),p=a(6354),y=a(9172),E=a(850),e=a(3953),U=a(3443),Y=a(8949),_=a(1643),B=a(9220),M=a(1787),P=a(345),x=a(390),X=a(1357),W=a(7291),Z=a(2168),J=a(2153);const z=(r,c)=>c.id,Q=(r,c)=>c.name;function H(r,c){if(1&r&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&r){const i=c.$implicit;e.Y8G("value",i),e.R7$(),e.SpI(" ",i.nombre," ")}}function K(r,c){1&r&&(e.j41(0,"mat-error"),e.EFF(1," El tipo de servicio es requerido "),e.k0s())}function q(r,c){1&r&&(e.j41(0,"mat-error"),e.EFF(1," El local es requerido "),e.k0s())}function ee(r,c){if(1&r&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&r){const i=c.$implicit;e.Y8G("value",i),e.R7$(),e.SpI(" ",i.nombre_local," ")}}function ie(r,c){if(1&r&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&r){const i=c.$implicit;e.Y8G("value",i),e.R7$(),e.Lme(" ",i.codigo_activo," - ",i.tipo_equipo," ")}}function te(r,c){if(1&r&&(e.j41(0,"div",9)(1,"div",10)(2,"mat-label",11),e.EFF(3,"Activo Fijo"),e.k0s()(),e.j41(4,"div",12)(5,"mat-form-field",13)(6,"mat-label"),e.EFF(7,"Activo Fijo"),e.k0s(),e.nrm(8,"input",33),e.j41(9,"mat-autocomplete",15,5)(11,"mat-option",21),e.EFF(12,"No aplica"),e.k0s(),e.DNE(13,ie,2,3,"mat-option",16),e.nI1(14,"async"),e.k0s()()()()),2&r){const i=e.sdS(10),o=e.XpG();e.R7$(8),e.Y8G("matAutocomplete",i),e.R7$(),e.Y8G("displayWith",o.displayActivoFijoFn),e.R7$(2),e.Y8G("value",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(14,4,o.filteredActivosFijos))}}function oe(r,c){if(1&r&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&r){const i=c.$implicit;e.Y8G("value",i.id),e.R7$(),e.SpI(" ",i.nombre," ")}}function ae(r,c){if(1&r&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&r){const i=c.$implicit;e.Y8G("value",i),e.R7$(),e.SpI(" ",i.nombre," ")}}function se(r,c){1&r&&(e.j41(0,"mat-error"),e.EFF(1," La especialidad es requerida "),e.k0s())}function re(r,c){if(1&r){const i=e.RV6();e.j41(0,"div",29)(1,"mat-card",34),e.nrm(2,"img",35),e.j41(3,"div",36)(4,"button",37),e.bIt("click",function(){const t=e.eBV(i).$index,l=e.XpG();return e.Njj(l.removeImage(t))}),e.j41(5,"mat-icon"),e.EFF(6,"delete"),e.k0s()()(),e.j41(7,"mat-card-footer",38)(8,"small",39),e.EFF(9),e.k0s()()()()}if(2&r){const i=c.$implicit,o=c.$index,t=e.XpG();e.R7$(2),e.Y8G("src",t.previewUrls[o],e.B4B)("alt",i.name),e.R7$(7),e.JRh(i.name)}}const le=[{path:"",component:(()=>{class r{constructor(i,o,t,l,n,s,m,u,g,f,ne,ce){this.userService=i,this.localesService=o,this.tipoServicioService=t,this.sectoresService=l,this.solicitarVisitaService=n,this.sanitizer=s,this.fb=m,this.uploadDataService=u,this.clientesService=g,this.storage=f,this.especialidadesService=ne,this.activoFijoLocalService=ce,this.selectedFiles=[],this.previewUrls={},this.locales=[],this.sectores=[],this.tipoServicio=[],this.especialidades=[],this.urlImage=[],this.client=null,this.destroy$=new G.B,this.isReactivo=!1,this.showClimaInput=!1,this.activosFijos=[],this.displayTipoServicioFn=F=>F?F.nombre:"",this.visitaForm=this.fb.group({tipoServicioId:[null,d.k0.required],localId:[null,d.k0.required],clientId:[null,d.k0.required],sectorTrabajoId:[null,d.k0.required],especialidad:[null,[d.k0.required]],activoFijoId:[""],observaciones:[""],fechaIngreso:[new Date]});const N=localStorage.getItem("selectedClient");this.client=N?JSON.parse(N):null;const de=this.storage.getCurrentUser();this.currentUserId=de?.id,this.storage.user$.subscribe(F=>{F&&(this.currentUserId=F.id)})}ngOnInit(){this.storageSubscription=this.storage.user$.subscribe(i=>{i&&i.selectedCompany&&(this.clientId=i.selectedCompany.id,console.log("clientId",i.selectedCompany.clima),this.currentUserId=i.id,this.showClimaInput=i.selectedCompany.clima||!1,this.clientesService.getCliente(this.clientId).subscribe(o=>{this.client=o}),this.getLocales(),this.getTipoServicio(),this.getSectoresTrabajo(),this.loadEspecialidades(),this.visitaForm.patchValue({clientId:this.clientId}))}),this.setupLocalAutocomplete(),this.setupEspecialidadAutocomplete(),this.setupTipoServicioAutocomplete(),this.visitaForm.get("tipoServicioId")?.valueChanges.pipe((0,k.Q)(this.destroy$)).subscribe(i=>{i&&(this.isReactivo="reactivo"===i.nombre?.toLowerCase(),(!this.isReactivo||!this.showClimaInput)&&this.visitaForm.patchValue({activoFijoId:""}))}),this.visitaForm.get("localId")?.valueChanges.pipe((0,k.Q)(this.destroy$)).subscribe(i=>{this.visitaForm.patchValue({activoFijoId:null},{emitEvent:!1}),i?.id?this.activoFijoLocalService.getActivosFijosByLocal(i.id).subscribe(o=>{this.activosFijos=o,this.filteredActivosFijos=(0,v.of)(this.activosFijos)},o=>{console.error("Error al cargar activos fijos:",o),this.activosFijos=[],this.filteredActivosFijos=(0,v.of)([])}):(this.activosFijos=[],this.filteredActivosFijos=(0,v.of)([]))}),this.setupActivoFijoAutocomplete()}ngOnDestroy(){this.storageSubscription&&this.storageSubscription.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}subirImagenes(i){var o=this;return(0,w.A)(function*(){try{const t=`solicitar_visita/${i}/imagenes`,l=o.selectedFiles.map(s=>{const m=new FormData;return m.append("file",s),m.append("originalname",s.name),o.uploadDataService.uploadFile(m,t).toPromise()}),n=yield Promise.all(l);return o.urlImage=n.map(s=>s&&s.url?s.url.replace(/http:\/\/localhost:3000|https?:\/\/[^\/]+/,D.c.apiUrl):s.url),o.urlImage}catch(t){throw console.error("Error al subir im\xe1genes:",t),t}})()}onSubmit(){var i=this;return(0,w.A)(function*(){if((yield j().fire({title:"\xbfEst\xe1s seguro?",text:"\xbfQuieres crear la programaci\xf3n?",icon:"question",showCancelButton:!0,confirmButtonText:"Crear",cancelButtonText:"Cancelar",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"})).isConfirmed)try{const t=new Date,l={...i.visitaForm.value,clientId:i.clientId,generada_por_id:i.currentUserId,tipoServicioId:i.visitaForm.value.tipoServicioId?.id||null,localId:i.visitaForm.value.localId?.id||null,especialidad:i.visitaForm.value.especialidad?.id||null,activoFijoId:i.visitaForm.value.activoFijoId?.id||null,fecha:t.toISOString(),fechaIngreso:i.visitaForm.value.fechaIngreso?new Date(i.visitaForm.value.fechaIngreso).toISOString():t.toISOString(),imagenes:[]},n=yield i.solicitarVisitaService.crearSolicitudVisita(l).toPromise();n?.success&&n?.data&&(i.selectedFiles.length>0&&(yield i.subirImagenes(n.data.id)),yield j().fire({title:"\xc9xito",html:`\n              <div>\n                <div class="mb-3">Solicitud de visita generada correctamente</div>\n                <div class="mb-2">\n                  <strong>N\xb0 Requerimiento:</strong> ${n.data.id}\n                </div>\n                <div class="mb-2">\n                  <strong>Fecha:</strong> ${i.formatDate((new Date).toISOString())}\n                </div>\n                <div class="mb-2">\n                  <strong>Local:</strong> ${n.data.local.nombre_local}\n                </div>\n                <div class="mb-2">\n                  <strong>Direcci\xf3n:</strong> ${n.data.local.direccion}\n                </div>\n                <div class="mb-2">\n                  <strong>Tipo de Servicio:</strong> ${i.visitaForm.value.tipoServicioId?.nombre||""}\n                </div>\n                <div class="mb-2">\n                  <strong>Sector:</strong> ${i.sectores.find(s=>s.id===i.visitaForm.value.sectorTrabajoId)?.nombre||""}\n                </div>\n                <div class="mb-2">\n                  <strong>Especialidad:</strong> ${i.visitaForm.value.especialidad?.nombre||""}\n                </div>\n                ${i.visitaForm.value.observaciones?`\n                  <div class="mb-2">\n                    <strong>Observaciones:</strong> ${i.visitaForm.value.observaciones}\n                  </div>\n                `:""}\n              </div>\n            `,icon:"success",confirmButtonText:"OK",confirmButtonColor:"#3085d6",width:"600px"}),i.visitaForm.reset(),i.selectedFiles=[],i.previewUrls={})}catch(t){console.error("Error al crear la visita:",t);const l=t.error?.message||"No se pudo crear la solicitud de visita";j().fire("Error",l,"error")}})()}formatDate(i){return new Date(i).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}getLocales(){this.localesService.getLocalesByCliente(this.clientId).pipe((0,p.T)(i=>i.sort((o,t)=>{const l=g=>{const f=g.match(/^\d+/);return f?parseInt(f[0]):null},n=o.nombre_local.toLowerCase(),s=t.nombre_local.toLowerCase(),m=l(n),u=l(s);return null!==m&&null!==u?m-u:null===m&&null!==u?-1:null!==m&&null===u?1:n.localeCompare(s,"es")}))).subscribe(i=>{this.locales=i})}getSectoresTrabajo(){this.sectoresService.getSectores().pipe((0,p.T)(i=>i.sort((o,t)=>o.nombre.toLowerCase().localeCompare(t.nombre.toLowerCase(),"es")))).subscribe(i=>{this.sectores=i})}getTipoServicio(){this.clientesService.getCliente(this.clientId).pipe((0,p.T)(i=>({...i,tipoServicio:i.tipoServicio.sort((o,t)=>o.nombre.toLowerCase().localeCompare(t.nombre.toLowerCase(),"es"))}))).subscribe(i=>{this.tipoServicio=i.tipoServicio})}loadEspecialidades(){this.especialidadesService.findAll().pipe((0,p.T)(i=>i.sort((o,t)=>o.nombre.toLowerCase().localeCompare(t.nombre.toLowerCase(),"es")))).subscribe({next:i=>{this.especialidades=i},error:i=>{console.error("Error cargando especialidades:",i)}})}onFileSelected(i){const o=i.target;o.files&&o.files.length>0&&Array.from(o.files).forEach((t,l)=>{const n=new FormData;n.append("file",t),n.append("originalname",t.name),this.uploadDataService.uploadFile(n,"solicitar_visita").subscribe({next:s=>{s&&s.url&&(this.urlImage.push(s.url),console.log(`Imagen subida exitosamente: ${s.url}`),this.selectedFiles.push(t),this.createImagePreview(t,this.selectedFiles.length-1))},error:s=>{console.error("Error al subir la imagen:",s),j().fire("Error","Hubo un problema al subir la imagen","error")}})})}createImagePreview(i,o){const t=new FileReader;t.onload=l=>{this.previewUrls[o]=this.sanitizer.bypassSecurityTrustUrl(l.target.result)},t.readAsDataURL(i)}removeImage(i){this.selectedFiles.splice(i,1),delete this.previewUrls[i]}setupLocalAutocomplete(){this.filteredLocales=this.visitaForm.get("localId").valueChanges.pipe((0,y.Z)(""),(0,p.T)(i=>this._filterLocales(i)))}_filterLocales(i){if(!this.locales)return[];const o="string"==typeof i?i.toLowerCase():"";return this.locales.filter(t=>t.nombre_local.toLowerCase().includes(o))}onLocalFocus(){this.filteredLocales=new I.c(i=>{i.next(this.locales)})}displayLocalFn(i){return i?i.nombre_local:""}filtrarLocales(i){const o=i.target.value.toLowerCase();this.filteredLocales=new I.c(t=>{t.next(this.locales.filter(l=>l.nombre_local.toLowerCase().includes(o)))})}setupEspecialidadAutocomplete(){this.filteredEspecialidades=this.visitaForm.get("especialidad").valueChanges.pipe((0,y.Z)(""),(0,p.T)(i=>this._filterEspecialidades(i)))}_filterEspecialidades(i){if(!this.especialidades)return[];const o="string"==typeof i?i.toLowerCase():"";return this.especialidades.filter(t=>t.nombre.toLowerCase().includes(o))}onEspecialidadFocus(){this.filteredEspecialidades=new I.c(i=>{i.next(this.especialidades)})}displayEspecialidadFn(i){return i?i.nombre:""}filtrarEspecialidades(i){const o=i.target.value.toLowerCase();this.filteredEspecialidades=new I.c(t=>{t.next(this.especialidades.filter(l=>l.nombre.toLowerCase().includes(o)))})}setupTipoServicioAutocomplete(){this.filteredTipoServicio=this.visitaForm.get("tipoServicioId").valueChanges.pipe((0,y.Z)(""),(0,p.T)(i=>this._filterTipoServicio(i)))}_filterTipoServicio(i){if(!this.tipoServicio)return[];const o="string"==typeof i?i.toLowerCase():"";return this.tipoServicio.filter(t=>t.nombre.toLowerCase().includes(o))}onTipoServicioFocus(){this.filteredTipoServicio=(0,v.of)(this.tipoServicio)}filtrarTipoServicio(i){const o=i.target.value.toLowerCase();this.filteredTipoServicio=(0,v.of)(this.tipoServicio.filter(t=>t.nombre.toLowerCase().includes(o)))}shouldShowClimaInput(){return this.isReactivo&&this.showClimaInput}setupActivoFijoAutocomplete(){this.filteredActivosFijos=this.visitaForm.get("activoFijoId").valueChanges.pipe((0,y.Z)(""),(0,p.T)(i=>this._filterActivosFijos(i)))}_filterActivosFijos(i){if(!this.activosFijos)return[];const o="string"==typeof i?i.toLowerCase():"";return this.activosFijos.filter(t=>t.codigo_activo.toLowerCase().includes(o))}displayActivoFijoFn(i){return null===i?"No aplica":i?`${i.codigo_activo} - ${i.tipo_equipo}`:""}onActivoFijoFocus(){this.filteredActivosFijos=(0,v.of)(this.activosFijos)}filtrarActivosFijos(i){const o=i.target.value.toLowerCase();this.filteredActivosFijos=(0,v.of)(this.activosFijos.filter(t=>t.codigo_activo.toLowerCase().includes(o)||t.tipo_equipo.toLowerCase().includes(o)))}static#e=this.\u0275fac=function(o){return new(o||r)(e.rXU(U.D),e.rXU(Y.R),e.rXU(_.Q),e.rXU(B.Y),e.rXU(M.I),e.rXU(P.up),e.rXU(d.ok),e.rXU(x.l),e.rXU(X.T),e.rXU(W.n),e.rXU(Z.c),e.rXU(J.t))};static#i=this.\u0275cmp=e.VBU({type:r,selectors:[["app-solicitar-visita"]],standalone:!0,features:[e.Jv_([(0,A.aw)()]),e.aNF],decls:92,vars:23,consts:[["autoTipoServicio","matAutocomplete"],["autoLocal","matAutocomplete"],["autoEspecialidad","matAutocomplete"],["picker",""],["fileInput",""],["autoActivoFijo","matAutocomplete"],[1,"cardWithShadow"],[1,"p-24"],[1,"form-layout",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-sm-4","d-flex","align-items-center"],[1,"mat-subtitle-2","f-w-600","d-block","m-b-16"],[1,"col-sm-8"],["appearance","outline",1,"w-100"],["type","text","matInput","","formControlName","tipoServicioId",3,"focus","keyup","matAutocomplete"],[3,"displayWith"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["type","text","matInput","","formControlName","localId","placeholder","Buscar local",3,"keyup","focus","matAutocomplete"],["class","row",4,"ngIf"],["formControlName","sectorTrabajoId","placeholder","Seleccionar sector"],[3,"value"],["type","text","matInput","","formControlName","especialidad",3,"focus","keyup","matAutocomplete"],["matInput","","formControlName","observaciones","rows","4","placeholder","Ingrese observaciones"],["matInput","","formControlName","fechaIngreso",3,"matDatepicker"],["matSuffix","",3,"for"],["type","file","accept","image/*","multiple","",2,"display","none",3,"change"],["type","button","mat-raised-button","","color","primary",3,"click"],[1,"row","mt-3"],[1,"col-sm-3","mb-3"],[1,"row","mt-4"],[1,"col-12","text-end"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],["type","text","matInput","","formControlName","activoFijoId","placeholder","Seleccione un activo fijo",3,"matAutocomplete"],[1,"image-preview-card"],[1,"img-fluid",3,"src","alt"],[1,"image-preview-overlay"],["type","button","mat-icon-button","","color","warn",3,"click"],[1,"p-2"],[1,"text-muted"]],template:function(o,t){if(1&o){const l=e.RV6();e.j41(0,"mat-card",6)(1,"mat-card-content",7)(2,"form",8),e.bIt("ngSubmit",function(){return e.eBV(l),e.Njj(t.onSubmit())}),e.j41(3,"div",9)(4,"div",10)(5,"mat-label",11),e.EFF(6,"Tipo Servicio"),e.k0s()(),e.j41(7,"div",12)(8,"mat-form-field",13)(9,"mat-label"),e.EFF(10,"Tipo de Servicio"),e.k0s(),e.j41(11,"input",14),e.bIt("focus",function(){return e.eBV(l),e.Njj(t.onTipoServicioFocus())})("keyup",function(s){return e.eBV(l),e.Njj(t.filtrarTipoServicio(s))}),e.k0s(),e.j41(12,"mat-autocomplete",15,0),e.DNE(14,H,2,2,"mat-option",16),e.nI1(15,"async"),e.k0s(),e.DNE(16,K,2,0,"mat-error",17),e.k0s()()(),e.j41(17,"div",9)(18,"div",10)(19,"mat-label",11),e.EFF(20,"Local"),e.k0s()(),e.j41(21,"div",12)(22,"mat-form-field",13)(23,"mat-label"),e.EFF(24,"Local"),e.k0s(),e.j41(25,"input",18),e.bIt("keyup",function(s){return e.eBV(l),e.Njj(t.filtrarLocales(s))})("focus",function(){return e.eBV(l),e.Njj(t.onLocalFocus())}),e.k0s(),e.DNE(26,q,2,0,"mat-error",17),e.j41(27,"mat-autocomplete",15,1),e.DNE(29,ee,2,2,"mat-option",16),e.nI1(30,"async"),e.k0s()()()(),e.DNE(31,te,15,6,"div",19),e.j41(32,"div",9)(33,"div",10)(34,"mat-label",11),e.EFF(35,"Sector del trabajo"),e.k0s()(),e.j41(36,"div",12)(37,"mat-form-field",13)(38,"mat-select",20),e.Z7z(39,oe,2,2,"mat-option",21,z),e.k0s()()()(),e.j41(41,"div",9)(42,"div",10)(43,"mat-label",11),e.EFF(44,"Especialidad"),e.k0s()(),e.j41(45,"div",12)(46,"mat-form-field",13)(47,"mat-label"),e.EFF(48,"Especialidad"),e.k0s(),e.j41(49,"input",22),e.bIt("focus",function(){return e.eBV(l),e.Njj(t.onEspecialidadFocus())})("keyup",function(s){return e.eBV(l),e.Njj(t.filtrarEspecialidades(s))}),e.k0s(),e.j41(50,"mat-autocomplete",15,2),e.DNE(52,ae,2,2,"mat-option",16),e.nI1(53,"async"),e.k0s(),e.DNE(54,se,2,0,"mat-error",17),e.k0s()()(),e.j41(55,"div",9)(56,"div",10)(57,"mat-label",11),e.EFF(58,"Observaciones"),e.k0s()(),e.j41(59,"div",12)(60,"mat-form-field",13),e.nrm(61,"textarea",23),e.k0s()()(),e.j41(62,"div",9)(63,"div",10)(64,"mat-label",11),e.EFF(65,"Fecha de ingreso solicitud"),e.k0s()(),e.j41(66,"div",12)(67,"mat-form-field",13),e.nrm(68,"input",24)(69,"mat-datepicker-toggle",25)(70,"mat-datepicker",null,3),e.j41(72,"mat-hint"),e.EFF(73,"Corresponde la fecha propuesta de soluci\xf3n"),e.k0s()()()(),e.j41(74,"div",9)(75,"div",10)(76,"mat-label",11),e.EFF(77,"Subir Im\xe1genes"),e.k0s()(),e.j41(78,"div",12)(79,"input",26,4),e.bIt("change",function(s){return e.eBV(l),e.Njj(t.onFileSelected(s))}),e.k0s(),e.j41(81,"button",27),e.bIt("click",function(){e.eBV(l);const s=e.sdS(80);return e.Njj(s.click())}),e.j41(82,"mat-icon"),e.EFF(83,"add_photo_alternate"),e.k0s(),e.EFF(84," Seleccionar Im\xe1genes "),e.k0s(),e.j41(85,"div",28),e.Z7z(86,re,10,3,"div",29,Q),e.k0s()()(),e.j41(88,"div",30)(89,"div",31)(90,"button",32),e.EFF(91," Solicitar Visita "),e.k0s()()()()()()}if(2&o){let l,n,s;const m=e.sdS(13),u=e.sdS(28),g=e.sdS(51),f=e.sdS(71);e.R7$(2),e.Y8G("formGroup",t.visitaForm),e.R7$(9),e.Y8G("matAutocomplete",m),e.R7$(),e.Y8G("displayWith",t.displayTipoServicioFn),e.R7$(2),e.Y8G("ngForOf",e.bMT(15,17,t.filteredTipoServicio)),e.R7$(2),e.Y8G("ngIf",null==(l=t.visitaForm.get("tipoServicioId"))?null:l.hasError("required")),e.R7$(9),e.Y8G("matAutocomplete",u),e.R7$(),e.Y8G("ngIf",null==(n=t.visitaForm.get("localId"))?null:n.hasError("required")),e.R7$(),e.Y8G("displayWith",t.displayLocalFn),e.R7$(2),e.Y8G("ngForOf",e.bMT(30,19,t.filteredLocales)),e.R7$(2),e.Y8G("ngIf",t.shouldShowClimaInput()),e.R7$(8),e.Dyx(t.sectores),e.R7$(10),e.Y8G("matAutocomplete",g),e.R7$(),e.Y8G("displayWith",t.displayEspecialidadFn),e.R7$(2),e.Y8G("ngForOf",e.bMT(53,21,t.filteredEspecialidades)),e.R7$(2),e.Y8G("ngIf",null==(s=t.visitaForm.get("especialidad"))?null:s.hasError("required")),e.R7$(14),e.Y8G("matDatepicker",f),e.R7$(),e.Y8G("for",f),e.R7$(17),e.Dyx(t.selectedFiles),e.R7$(4),e.Y8G("disabled",!t.visitaForm.valid)}},dependencies:[C.MD,C.Sq,C.bT,C.Jj,S.Hu,S.RN,S.m2,S.WQ,h.RG,h.rl,h.nJ,h.MV,h.TL,h.yw,T.Hl,T.$z,T.iY,L.Ve,L.VO,A.wT,d.X1,d.qT,d.me,d.BC,d.cb,d.j4,d.JD,b.X6,b.Vh,b.bZ,b.bU,V.fS,V.fg,R.m_,R.An,E.jL,E.$3,E.pN],styles:[".form-layout[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-bottom:1.5rem}.image-preview-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:contain}.image-preview-card[_ngcontent-%COMP%]   .image-preview-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:8px;background:#00000080;opacity:0;transition:opacity .3s ease}.image-preview-card[_ngcontent-%COMP%]   mat-card-footer[_ngcontent-%COMP%]{background:#00000008;padding:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-subtitle-2[_ngcontent-%COMP%]{margin:0}.image-preview-card[_ngcontent-%COMP%]{position:relative;overflow:hidden}.image-preview-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;border-radius:4px}.image-preview-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:#00000080;opacity:0;transition:opacity .3s}.image-preview-card[_ngcontent-%COMP%]:hover   .image-preview-overlay[_ngcontent-%COMP%]{opacity:1}.image-preview-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff}"]})}return r})(),data:{title:"Solicitar Visita"}}]}}]);