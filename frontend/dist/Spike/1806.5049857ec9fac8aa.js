"use strict";(self.webpackChunkSpike=self.webpackChunkSpike||[]).push([[1806],{1806:(it,T,c)=>{c.r(T),c.d(T,{REPUESTOS_ROUTES:()=>ot});var M=c(467),h=c(177),e=c(3953),d=c(5596),D=c(6695),x=c(2042),m=c(9159),_=c(8834),u=c(3719),b=c(9631),$=c(9213),I=c(450),s=c(9417),w=c(9183),C=c(9969),V=c(8032),p=c.n(V);const l=void 0,H=["es-CL",[["a.\xa0m.","p.\xa0m."],l,l],l,[["d","l","m","m","j","v","s"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["do","lu","ma","mi","ju","vi","s\xe1"]],[["D","L","M","M","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sept.","oct.","nov.","dic."],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],[["a. C.","d. C."],l,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["dd-MM-yy","dd-MM-y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}","{1} {0}","{1}, {0}",l],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","\xa4#,##0.00;\xa4-#,##0.00","#E0"],"CLP","$","Peso chileno",{AUD:[l,"$"],BRL:[l,"R$"],BYN:[l,"\u0440."],CAD:[l,"$"],CLP:["$"],CNY:[l,"\xa5"],ESP:["\u20a7"],EUR:[l,"\u20ac"],FKP:[l,"FK\xa3"],GBP:[l,"\xa3"],HKD:[l,"$"],ILS:[l,"\u20aa"],INR:[l,"\u20b9"],JPY:[l,"\xa5"],KRW:[l,"\u20a9"],MXN:[l,"$"],NZD:[l,"$"],PHP:[l,"\u20b1"],RON:[l,"L"],SSP:[l,"SD\xa3"],SYP:[l,"S\xa3"],TWD:[l,"NT$"],USD:["US$","$"],VEF:[l,"BsF"],VND:[l,"\u20ab"],XAF:[],XCD:[l,"$"],XOF:[]},"ltr",function G(t){const n=t,o=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length,r=parseInt(t.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===n?1:0===r&&0!==o&&o%1e6==0&&0===i||!(r>=0&&r<=5)?4:5}];var g=c(4006);const k=t=>[t,"CLP","symbol","1.0-0","es-CL"];function B(t,n){1&t&&(e.j41(0,"th",15),e.EFF(1,"Fecha"),e.k0s())}function O(t,n){if(1&t&&(e.j41(0,"td",16),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.JRh(e.i5U(2,1,o.fecha_cambio,"dd/MM/yyyy HH:mm"))}}function z(t,n){1&t&&(e.j41(0,"th",15),e.EFF(1,"Precio Venta Anterior"),e.k0s())}function L(t,n){if(1&t&&(e.j41(0,"td",16),e.EFF(1),e.nI1(2,"currency"),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.JRh(e.iJd(2,1,e.eq3(7,k,o.precio_venta_anterior)))}}function X(t,n){1&t&&(e.j41(0,"th",15),e.EFF(1,"Precio Venta Nuevo"),e.k0s())}function Y(t,n){if(1&t&&(e.j41(0,"td",16),e.EFF(1),e.nI1(2,"currency"),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.JRh(e.iJd(2,1,e.eq3(7,k,o.precio_venta_nuevo)))}}function q(t,n){1&t&&(e.j41(0,"th",15),e.EFF(1,"Precio Compra Anterior"),e.k0s())}function J(t,n){if(1&t&&(e.j41(0,"td",16),e.EFF(1),e.nI1(2,"currency"),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.JRh(e.iJd(2,1,e.eq3(7,k,o.precio_compra_anterior)))}}function U(t,n){1&t&&(e.j41(0,"th",15),e.EFF(1,"Precio Compra Nuevo"),e.k0s())}function A(t,n){if(1&t&&(e.j41(0,"td",16),e.EFF(1),e.nI1(2,"currency"),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.JRh(e.iJd(2,1,e.eq3(7,k,o.precio_compra_nuevo)))}}function Q(t,n){1&t&&(e.j41(0,"th",15),e.EFF(1,"Usuario"),e.k0s())}function Z(t,n){if(1&t&&(e.j41(0,"td",16),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.JRh(o.usuario_modificacion)}}function K(t,n){1&t&&(e.j41(0,"th",15),e.EFF(1,"Motivo"),e.k0s())}function W(t,n){if(1&t&&(e.j41(0,"td",16),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.JRh(o.motivo_cambio)}}function ee(t,n){1&t&&e.nrm(0,"tr",17)}function te(t,n){1&t&&e.nrm(0,"tr",18)}let oe=(()=>{class t{constructor(o,i){this.dialogRef=o,this.data=i,this.displayedColumns=["fecha","precio_venta_anterior","precio_venta_nuevo","precio_compra_anterior","precio_compra_nuevo","usuario","motivo"]}cerrar(){this.dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(g.CP),e.rXU(g.Vh))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-historial-dialog"]],standalone:!0,features:[e.aNF],decls:30,vars:3,consts:[["mat-dialog-title",""],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","fecha"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","precio_venta_anterior"],["matColumnDef","precio_venta_nuevo"],["matColumnDef","precio_compra_anterior"],["matColumnDef","precio_compra_nuevo"],["matColumnDef","usuario"],["matColumnDef","motivo"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["align","end"],["mat-button","",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(e.j41(0,"h2",0),e.EFF(1,"Historial de Cambios de Precio"),e.k0s(),e.j41(2,"mat-dialog-content")(3,"table",1),e.qex(4,2),e.DNE(5,B,2,0,"th",3)(6,O,3,4,"td",4),e.bVm(),e.qex(7,5),e.DNE(8,z,2,0,"th",3)(9,L,3,9,"td",4),e.bVm(),e.qex(10,6),e.DNE(11,X,2,0,"th",3)(12,Y,3,9,"td",4),e.bVm(),e.qex(13,7),e.DNE(14,q,2,0,"th",3)(15,J,3,9,"td",4),e.bVm(),e.qex(16,8),e.DNE(17,U,2,0,"th",3)(18,A,3,9,"td",4),e.bVm(),e.qex(19,9),e.DNE(20,Q,2,0,"th",3)(21,Z,2,1,"td",4),e.bVm(),e.qex(22,10),e.DNE(23,K,2,0,"th",3)(24,W,2,1,"td",4),e.bVm(),e.DNE(25,ee,1,0,"tr",11)(26,te,1,0,"tr",12),e.k0s()(),e.j41(27,"mat-dialog-actions",13)(28,"button",14),e.bIt("click",function(){return r.cerrar()}),e.EFF(29,"Cerrar"),e.k0s()()),2&i&&(e.R7$(3),e.Y8G("dataSource",r.data.historial),e.R7$(22),e.Y8G("matHeaderRowDef",r.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",r.displayedColumns))},dependencies:[h.MD,h.oe,h.vh,g.hM,g.BI,g.E7,g.Yi,m.tP,m.Zl,m.tL,m.ji,m.cC,m.YV,m.iL,m.KS,m.$R,m.YZ,m.NB,_.Hl,_.$z],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-column-fecha[_ngcontent-%COMP%]{min-width:140px}.mat-column-usuario[_ngcontent-%COMP%]{min-width:120px}.mat-column-motivo[_ngcontent-%COMP%]{min-width:200px}"]})}return t})();var ie=c(980),S=c(4823),P=c(9482),j=c(8887),re=c(5416);const ne=()=>["expandedDetail"],ae=()=>[5,10,25,100],N=t=>[t,"CLP","symbol","1.0-0","es-CL"],y=()=>["cliente","precio_venta","precio_compra","acciones"];function se(t,n){1&t&&e.nrm(0,"th",30)}function le(t,n){if(1&t){const o=e.RV6();e.j41(0,"td",31)(1,"button",32),e.bIt("click",function(){const r=e.eBV(o).$implicit,a=e.XpG();return e.Njj(a.expandRow(r))}),e.j41(2,"mat-icon"),e.EFF(3),e.k0s()()()}if(2&t){const o=n.$implicit,i=e.XpG();e.R7$(3),e.JRh(o===i.expandedElement?"expand_less":"expand_more")}}function ce(t,n){1&t&&(e.j41(0,"th",33),e.EFF(1," Familia "),e.k0s())}function me(t,n){if(1&t&&(e.j41(0,"td",31),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.SpI(" ",o.familia," ")}}function pe(t,n){1&t&&(e.j41(0,"th",33),e.EFF(1," Art\xedculo "),e.k0s())}function de(t,n){if(1&t&&(e.j41(0,"td",31),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.SpI(" ",o.articulo," ")}}function ue(t,n){1&t&&(e.j41(0,"th",33),e.EFF(1," Marca "),e.k0s())}function _e(t,n){if(1&t&&(e.j41(0,"td",31),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.SpI(" ",o.marca," ")}}function fe(t,n){1&t&&(e.j41(0,"th",34),e.EFF(1," Codigo de Barra "),e.k0s())}function he(t,n){if(1&t&&(e.j41(0,"td",35),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.SpI(" ",o.codigoBarra," ")}}function Ce(t,n){1&t&&(e.j41(0,"th",34),e.EFF(1," Precio de compra "),e.k0s())}function ge(t,n){if(1&t&&(e.j41(0,"td",35),e.EFF(1),e.nI1(2,"currency"),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.SpI(" ",e.iJd(2,1,e.eq3(7,N,o.precio_compra))," ")}}function ve(t,n){1&t&&(e.j41(0,"th",34),e.EFF(1," Precio de venta "),e.k0s())}function be(t,n){if(1&t&&(e.j41(0,"td",35),e.EFF(1),e.nI1(2,"currency"),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.SpI(" ",e.iJd(2,1,e.eq3(7,N,o.precio_venta))," ")}}function Re(t,n){1&t&&(e.j41(0,"th",36),e.EFF(1," Acciones "),e.k0s())}function Ee(t,n){if(1&t){const o=e.RV6();e.j41(0,"td",35)(1,"button",37),e.bIt("click",function(){const r=e.eBV(o).$implicit,a=e.XpG();return e.Njj(a.openEditarRepuestoModal(r))}),e.j41(2,"mat-icon"),e.EFF(3,"edit"),e.k0s()(),e.j41(4,"button",38),e.bIt("click",function(){const r=e.eBV(o).$implicit,a=e.XpG();return e.Njj(a.openEliminarRepuestoModal(r))}),e.j41(5,"mat-icon"),e.EFF(6,"delete"),e.k0s()()()}}function Fe(t,n){1&t&&(e.j41(0,"div",44),e.nrm(1,"mat-spinner",45),e.k0s())}function xe(t,n){1&t&&(e.j41(0,"th",30),e.EFF(1," Cliente "),e.k0s())}function ke(t,n){if(1&t&&(e.j41(0,"td",31),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.SpI(" ",null==o.cliente?null:o.cliente.nombre," ")}}function je(t,n){1&t&&(e.j41(0,"th",30),e.EFF(1," Precio Venta "),e.k0s())}function De(t,n){if(1&t&&(e.j41(0,"div",53),e.EFF(1),e.k0s()),2&t){const o=e.XpG().$implicit,i=e.XpG(4);e.R7$(),e.SpI(" El precio de venta debe ser mayor a ",i.formatCurrency(o.precio_compra)," ")}}function Pe(t,n){if(1&t){const o=e.RV6();e.j41(0,"td",31)(1,"div",49)(2,"mat-form-field",50)(3,"input",51),e.mxI("ngModelChange",function(r){const a=e.eBV(o).$implicit;return e.DH7(a.precio_venta,r)||(a.precio_venta=r),e.Njj(r)}),e.k0s()(),e.DNE(4,De,2,1,"div",52),e.k0s()()}if(2&t){const o=n.$implicit,i=e.XpG(4);e.R7$(2),e.AVh("error-input",i.hasPriceChanged(o)&&!i.isPriceValid(o)),e.R7$(),e.AVh("error-text",i.hasPriceChanged(o)&&!i.isPriceValid(o)),e.R50("ngModel",o.precio_venta),e.R7$(),e.Y8G("ngIf",i.hasPriceChanged(o)&&!i.isPriceValid(o))}}function Te(t,n){1&t&&(e.j41(0,"th",30),e.EFF(1," Precio Compra "),e.k0s())}function $e(t,n){if(1&t&&(e.j41(0,"div",53),e.EFF(1),e.k0s()),2&t){const o=e.XpG().$implicit,i=e.XpG(4);e.R7$(),e.SpI(" El precio de venta (",i.formatCurrency(o.precio_venta),") es menor o igual ")}}function we(t,n){if(1&t){const o=e.RV6();e.j41(0,"td",31)(1,"div",49)(2,"mat-form-field",50)(3,"input",51),e.mxI("ngModelChange",function(r){const a=e.eBV(o).$implicit;return e.DH7(a.precio_compra,r)||(a.precio_compra=r),e.Njj(r)}),e.k0s()(),e.DNE(4,$e,2,1,"div",52),e.k0s()()}if(2&t){const o=n.$implicit,i=e.XpG(4);e.R7$(2),e.AVh("error-input",i.hasPriceChanged(o)&&!i.isPriceValid(o)),e.R7$(),e.AVh("error-text",i.hasPriceChanged(o)&&!i.isPriceValid(o)),e.R50("ngModel",o.precio_compra),e.R7$(),e.Y8G("ngIf",i.hasPriceChanged(o)&&!i.isPriceValid(o))}}function Se(t,n){1&t&&(e.j41(0,"th",30),e.EFF(1," Acciones "),e.k0s())}function Ne(t,n){if(1&t){const o=e.RV6();e.j41(0,"td",31)(1,"button",54),e.bIt("click",function(){const r=e.eBV(o).$implicit,a=e.XpG(4);return e.Njj(a.updateClientPrice(r))}),e.j41(2,"mat-icon"),e.EFF(3,"save"),e.k0s()(),e.j41(4,"button",55),e.bIt("click",function(){const r=e.eBV(o).$implicit,a=e.XpG(4);return e.Njj(a.verHistorial(r))}),e.j41(5,"mat-icon"),e.EFF(6,"history"),e.k0s()()()}if(2&t){const o=n.$implicit,i=e.XpG(4);e.R7$(),e.Y8G("matTooltip",i.getPriceValidationMessage(o))("matTooltipClass",!i.isPriceValid(o)&&i.hasPriceChanged(o)?"tooltip-error":"tooltip-multiline")("disabled",!i.hasPriceChanged(o)||!i.isPriceValid(o)),e.R7$(3),e.Mz_("matTooltip","Ver historial de cambios de precio para ",null==o.cliente?null:o.cliente.nombre,"")}}function ye(t,n){1&t&&e.nrm(0,"tr",56)}function Me(t,n){1&t&&e.nrm(0,"tr",57)}function Ie(t,n){if(1&t&&(e.j41(0,"table",46),e.qex(1,47),e.DNE(2,xe,2,0,"th",12)(3,ke,2,1,"td",13),e.bVm(),e.qex(4,22),e.DNE(5,je,2,0,"th",12)(6,Pe,5,6,"td",13),e.bVm(),e.qex(7,21),e.DNE(8,Te,2,0,"th",12)(9,we,5,6,"td",13),e.bVm(),e.qex(10,23),e.DNE(11,Se,2,0,"th",12)(12,Ne,7,5,"td",13),e.bVm(),e.DNE(13,ye,1,0,"tr",26)(14,Me,1,0,"tr",48),e.k0s()),2&t){const o=e.XpG(3);e.Y8G("dataSource",o.clientPricesDataSource),e.R7$(13),e.Y8G("matHeaderRowDef",e.lJ4(3,y)),e.R7$(),e.Y8G("matRowDefColumns",e.lJ4(4,y))}}function Ve(t,n){if(1&t&&(e.j41(0,"div",41)(1,"h3"),e.EFF(2,"Precios por Cliente"),e.k0s(),e.DNE(3,Fe,2,0,"div",42)(4,Ie,15,5,"table",43),e.k0s()),2&t){const o=e.XpG(2);e.R7$(3),e.Y8G("ngIf",o.loadingClientPrices),e.R7$(),e.Y8G("ngIf",!o.loadingClientPrices)}}function Ge(t,n){if(1&t&&(e.j41(0,"td",31)(1,"div",39),e.DNE(2,Ve,5,2,"div",40),e.k0s()()),2&t){const o=n.$implicit,i=e.XpG();e.BMQ("colspan",i.displayedColumns.length),e.R7$(),e.Y8G("@detailExpand",o===i.expandedElement?"expanded":"collapsed"),e.R7$(),e.Y8G("ngIf",o===i.expandedElement)}}function He(t,n){1&t&&e.nrm(0,"tr",56)}function Be(t,n){if(1&t&&e.nrm(0,"tr",58),2&t){const o=n.$implicit,i=e.XpG();e.AVh("expanded-row",i.expandedElement===o)}}function Oe(t,n){1&t&&e.nrm(0,"tr",59)}function Le(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"La familia es requerida"),e.k0s())}function Xe(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"El art\xedculo es requerido"),e.k0s())}function Ye(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"La marca es requerida"),e.k0s())}function qe(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"El c\xf3digo de barra es requerido"),e.k0s())}function Je(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"El precio de compra es requerido y debe ser positivo"),e.k0s())}function Ue(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"El precio de venta es requerido y debe ser positivo"),e.k0s())}function Qe(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"La familia es requerida"),e.k0s())}function Ze(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"El art\xedculo es requerido"),e.k0s())}function Ke(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"La marca es requerida"),e.k0s())}function We(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"El c\xf3digo de barra es requerido"),e.k0s())}function et(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"El precio de compra es requerido y debe ser positivo"),e.k0s())}function tt(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"El precio de venta es requerido y debe ser positivo"),e.k0s())}(0,h.EO)(H,"es-CL");const ot=[{path:"",component:(()=>{class t{constructor(o,i,r,a){this.repuestosService=o,this.router=i,this.dialog=r,this.snackBar=a,this.displayedColumns=["expand","familia","articulo","marca","codigoBarra","precio_compra","precio_venta","acciones"],this.dataSource=new m.I6,this.clientPricesDataSource=new m.I6,this.repuestos=[],this.expandedElement=null,this.loadingClientPrices=!1,this.originalPrices={},this.clientPrices=[],this.loading=!1}ngOnInit(){this.loadRepuestos()}loadRepuestos(){this.repuestosService.getRepuestos().subscribe(o=>{this.repuestos=o,this.dataSource=new m.I6(this.repuestos),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}expandRow(o){this.expandedElement=this.expandedElement===o?null:o,this.expandedElement&&this.loadClientPrices(o.id)}loadClientPrices(o){this.loading=!0,this.repuestosService.getClientePreciosForRepuesto(o).pipe((0,ie.j)(()=>this.loading=!1)).subscribe({next:i=>{this.clientPrices=i,this.originalPrices=i.reduce((r,a)=>(r[a.id]={...a},r),{}),this.clientPricesDataSource.data=i},error:i=>{console.error("Error loading client prices:",i),this.snackBar.open("Error al cargar los precios por cliente","Cerrar",{duration:3e3,panelClass:["error-snackbar"]})}})}hasPriceChanged(o){return!!this.originalPrices[o.id]&&(this.originalPrices[o.id].precio_venta!==o.precio_venta||this.originalPrices[o.id].precio_compra!==o.precio_compra)}isPriceValid(o){return o.precio_venta>o.precio_compra}getPriceValidationMessage(o){return this.hasPriceChanged(o)?this.isPriceValid(o)?`Guardar nuevo precio: Venta: ${this.formatCurrency(o.precio_venta)} - Compra: ${this.formatCurrency(o.precio_compra)}`:`Error: El precio de venta debe ser mayor al precio de compra\nVenta: ${this.formatCurrency(o.precio_venta)} - Compra: ${this.formatCurrency(o.precio_compra)}`:`Precio actual: Venta: ${this.formatCurrency(o.precio_venta)} - Compra: ${this.formatCurrency(o.precio_compra)}`}formatCurrency(o){return new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(o)}updateClientPrice(o){var i=this;return(0,M.A)(function*(){if(!i.isPriceValid(o))return void p().fire({icon:"error",title:"Error de validaci\xf3n",text:"El precio de venta debe ser mayor al precio de compra"});p().fire({title:"Guardando...",text:"Actualizando precios del cliente",allowOutsideClick:!1,didOpen:()=>{p().showLoading()}});const r={precio_venta:parseFloat(o.precio_venta),precio_compra:parseFloat(o.precio_compra)};i.repuestosService.updateClienteRepuesto(o.id,r).subscribe({next:()=>{i.originalPrices[o.id]={...o},p().close(),p().fire({icon:"success",title:"Guardado",text:"Los precios se han actualizado correctamente",timer:1500,showConfirmButton:!1})},error:a=>{p().close(),console.error("Error updating client price:",a),p().fire({icon:"error",title:"Error",text:"No se pudieron actualizar los precios. Por favor, intente nuevamente."})}})})()}verHistorial(o){this.repuestosService.getHistorialClienteRepuesto(o.id).subscribe({next:i=>{this.dialog.open(oe,{width:"900px",data:{historial:i}})},error:i=>{console.error("Error loading price history:",i),p().fire({icon:"error",title:"Error",text:"No se pudo cargar el historial de precios"})}})}openCrearRepuesto(){this.router.navigate(["/mantenedores/repuestos/crear-repuesto"])}applyFilter(o){const i=o.target.value.trim().toLowerCase();this.dataSource.filter=i,this.dataSource.filterPredicate=(r,a)=>r.familia.toLowerCase().includes(a)||r.marca.toLowerCase().includes(a)||r.articulo.toLowerCase().includes(a),this.dataSource.sortingDataAccessor=(r,a)=>{switch(a){case"familia":return r.familia;case"marca":return r.marca;case"articulo":return r.articulo;default:return r[a]}}}openEditarRepuestoModal(o){this.router.navigate(["/mantenedores/repuestos/editar-repuesto",o.id])}openEliminarRepuestoModal(o){p().fire({title:"Eliminar Repuesto",text:"\xbfEst\xe1s seguro de que deseas eliminar este repuesto?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminar"}).then(i=>{i.isConfirmed&&this.repuestosService.eliminarRepuesto(o.id).subscribe(()=>{this.dataSource.data=this.dataSource.data.filter(r=>r.id!==o.id),p().fire("Eliminado","El repuesto ha sido eliminado.","success")})})}agregarDocumento(o){this.router.navigate(["/mantenedores/documentos/subir-documento",{tipo:4,tecnico:null,cliente:null,repuesto:o.id,vehiculo:null}])}sincronizarClientesRepuestos(){p().fire({title:"\xbfSincronizar precios?",text:"Se crear\xe1n precios para los clientes que no tengan precios asignados en los repuestos. Los repuestos marcados como clima solo se sincronizar\xe1n con clientes que tambi\xe9n tengan clima activado. \xbfDesea continuar?",icon:"question",showCancelButton:!0,confirmButtonText:"S\xed, sincronizar",cancelButtonText:"Cancelar"}).then(o=>{o.isConfirmed&&(p().fire({title:"Sincronizando...",text:"Por favor espere mientras se sincronizan los precios",allowOutsideClick:!1,didOpen:()=>{p().showLoading()}}),this.repuestosService.sincronizarClientesRepuestos().subscribe({next:i=>{0===i.creados?p().fire({title:"Informaci\xf3n",text:"No se encontraron precios nuevos para sincronizar",icon:"info"}):p().fire({title:"\xc9xito",text:`Se han sincronizado ${i.creados} precios de clientes. Los repuestos de clima solo se han asignado a clientes con clima activado.`,icon:"success"}),this.loadRepuestos()},error:i=>{console.error("Error sincronizando precios:",i),p().fire({title:"Error",text:i.error?.message||"No se pudieron sincronizar los precios de clientes",icon:"error"})}}))})}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(P.Y),e.rXU(j.Ix),e.rXU(g.bZ),e.rXU(re.UG))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-repuestos"]],viewQuery:function(i,r){if(1&i&&(e.GBs(D.iy,5),e.GBs(x.B4,5)),2&i){let a;e.mGM(a=e.lsd())&&(r.paginator=a.first),e.mGM(a=e.lsd())&&(r.sort=a.first)}},standalone:!0,features:[e.Jv_([{provide:e.xe9,useValue:"es-CL"}]),e.aNF],decls:51,vars:7,consts:[["input",""],[1,"cardWithShadow"],[1,"p-16"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["mat-raised-button","","color","primary",3,"click"],[1,"row","justify-content-between","mb-2"],[1,"col-sm-4","col-lg-3"],["appearance","outline",1,"w-100","hide-hint"],["matInput","","placeholder","Buscar",3,"keyup"],[1,"table-responsive"],["mat-table","","matSort","","multiTemplateDataRows","",1,"w-100","mat-elevation-z8",3,"dataSource"],["matColumnDef","expand"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","familia"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","articulo"],["matColumnDef","marca"],["matColumnDef","codigoBarra"],["mat-header-cell","","mat-sort-header","","class","f-w-600 mat-subtitle-1 f-s-14 p-l-0",4,"matHeaderCellDef"],["mat-cell","","class","p-l-0",4,"matCellDef"],["matColumnDef","precio_compra"],["matColumnDef","precio_venta"],["matColumnDef","acciones"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14 p-l-0",4,"matHeaderCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","element-row",3,"expanded-row",4,"matRowDef","matRowDefColumns"],["mat-row","","class","detail-row",4,"matRowDef","matRowDefColumns"],["aria-label","Seleccionar p\xe1gina",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-header-cell","","mat-sort-header","",1,"f-w-600","mat-subtitle-1","f-s-14","p-l-0"],["mat-cell","",1,"p-l-0"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-14","p-l-0"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],[1,"element-detail"],["class","client-prices-container",4,"ngIf"],[1,"client-prices-container"],["class","loading-spinner",4,"ngIf"],["mat-table","","class","w-100",3,"dataSource",4,"ngIf"],[1,"loading-spinner"],["diameter","30"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","cliente"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"price-input-container"],["appearance","outline",1,"price-input"],["matInput","","type","number",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],[1,"error-message"],["mat-icon-button","","color","primary",3,"click","matTooltip","matTooltipClass","disabled"],["mat-icon-button","","color","accent",3,"click","matTooltip"],["mat-header-row",""],["mat-row",""],["mat-row","",1,"element-row"],["mat-row","",1,"detail-row"]],template:function(i,r){if(1&i){const a=e.RV6();e.j41(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3,"Repuestos"),e.k0s()(),e.j41(4,"mat-card-content",2)(5,"div",3)(6,"button",4),e.bIt("click",function(){return e.eBV(a),e.Njj(r.openCrearRepuesto())}),e.j41(7,"mat-icon"),e.EFF(8,"add"),e.k0s(),e.EFF(9," Crear Repuesto "),e.k0s(),e.j41(10,"button",4),e.bIt("click",function(){return e.eBV(a),e.Njj(r.sincronizarClientesRepuestos())}),e.j41(11,"mat-icon"),e.EFF(12,"sync"),e.k0s(),e.EFF(13," Sincronizar Precios de Clientes "),e.k0s()(),e.j41(14,"div",5)(15,"div",6)(16,"mat-form-field",7)(17,"input",8,0),e.bIt("keyup",function(v){return e.eBV(a),e.Njj(r.applyFilter(v))}),e.k0s()()()(),e.j41(19,"div",9)(20,"table",10),e.qex(21,11),e.DNE(22,se,1,0,"th",12)(23,le,4,1,"td",13),e.bVm(),e.qex(24,14),e.DNE(25,ce,2,0,"th",15)(26,me,2,1,"td",13),e.bVm(),e.qex(27,16),e.DNE(28,pe,2,0,"th",15)(29,de,2,1,"td",13),e.bVm(),e.qex(30,17),e.DNE(31,ue,2,0,"th",15)(32,_e,2,1,"td",13),e.bVm(),e.qex(33,18),e.DNE(34,fe,2,0,"th",19)(35,he,2,1,"td",20),e.bVm(),e.qex(36,21),e.DNE(37,Ce,2,0,"th",19)(38,ge,3,9,"td",20),e.bVm(),e.qex(39,22),e.DNE(40,ve,2,0,"th",19)(41,be,3,9,"td",20),e.bVm(),e.qex(42,23),e.DNE(43,Re,2,0,"th",24)(44,Ee,7,0,"td",20),e.bVm(),e.qex(45,25),e.DNE(46,Ge,3,3,"td",13),e.bVm(),e.DNE(47,He,1,0,"tr",26)(48,Be,1,2,"tr",27)(49,Oe,1,0,"tr",28),e.k0s(),e.nrm(50,"mat-paginator",29),e.k0s()()()}2&i&&(e.R7$(20),e.Y8G("dataSource",r.dataSource),e.R7$(27),e.Y8G("matHeaderRowDef",r.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",r.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",e.lJ4(5,ne)),e.R7$(),e.Y8G("pageSizeOptions",e.lJ4(6,ae)))},dependencies:[m.tP,m.Zl,m.tL,m.ji,m.cC,m.YV,m.iL,m.KS,m.$R,m.YZ,m.NB,D.Ou,D.iy,x.NQ,x.B4,x.aE,d.Hu,d.RN,d.m2,d.MM,d.dh,_.Hl,_.$z,_.iY,h.MD,h.bT,h.oe,u.RG,u.rl,b.fS,b.fg,$.m_,$.An,I.mV,s.YN,s.me,s.Q0,s.BC,s.vS,w.D6,w.LG,S.uc,S.oV],styles:[".element-row[_ngcontent-%COMP%]{border-bottom-width:0;cursor:pointer}.element-row[_ngcontent-%COMP%]:not(.expanded):hover{background:#f5f5f5}.element-row.expanded[_ngcontent-%COMP%]{border-bottom-width:0}.element-detail[_ngcontent-%COMP%]{overflow:hidden}.client-prices-container[_ngcontent-%COMP%]{padding:16px;background-color:#f8f9fa;border-radius:4px;margin:8px 0}.loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:16px}.price-input-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:4px}.error-message[_ngcontent-%COMP%]{position:absolute;bottom:-24px;left:0;color:#f44336;font-size:12px;white-space:nowrap;background-color:#fff;padding:2px 4px;border-radius:4px;box-shadow:0 1px 3px #0000001f;z-index:1}.price-input[_ngcontent-%COMP%]{width:150px;margin:0}.price-input.error-input[_ngcontent-%COMP%]   .mat-mdc-form-field-outline[_ngcontent-%COMP%], .error-text[_ngcontent-%COMP%]{color:#f44336}.error-hint[_ngcontent-%COMP%]{color:#f44336;font-size:11px;position:absolute;bottom:-20px;left:0;white-space:nowrap}  .mat-mdc-row{height:48px}  .mat-mdc-header-row{height:48px}  .mat-mdc-cell{padding:8px 4px}  .mat-mdc-header-cell{padding:8px 4px}  .price-input .mat-mdc-form-field-wrapper{padding-bottom:0;margin:0}  .price-input .mat-mdc-text-field-wrapper{padding:0 8px}  .mat-mdc-card-header{padding:12px 16px}  .tooltip-multiline{white-space:pre-line!important;font-size:12px!important;max-width:unset!important}  .tooltip-error{white-space:pre-line!important;font-size:12px!important;max-width:unset!important;background-color:#f44336!important;color:#fff!important}  .mat-mdc-tooltip{position:relative;z-index:1000}  .mat-mdc-button-disabled{pointer-events:auto!important}  .mat-mdc-button-disabled:hover{cursor:not-allowed}  .mat-mdc-form-field.error-input .mdc-notched-outline__leading,   .mat-mdc-form-field.error-input .mdc-notched-outline__notch,   .mat-mdc-form-field.error-input .mdc-notched-outline__trailing{border-color:#f44336!important}  .mat-mdc-form-field-error{font-size:11px;margin-top:-1em}  .mat-mdc-form-field-hint-wrapper{padding:0!important}  .mat-mdc-form-field-hint{font-size:11px}  .price-input .mat-mdc-form-field-subscript-wrapper{position:static}  .price-input.error-input .mat-mdc-form-field-hint{color:#f44336}.detail-row[_ngcontent-%COMP%]{height:0}.mat-mdc-table[_ngcontent-%COMP%]{width:100%}.mat-column-expand[_ngcontent-%COMP%]{width:48px;padding-right:4px}tr.detail-row[_ngcontent-%COMP%]{height:0}tr.element-row[_ngcontent-%COMP%]:not(.expanded-row):hover{background:#f5f5f5}tr.element-row[_ngcontent-%COMP%]:not(.expanded-row):active{background:#efefef}"],data:{animation:[(0,C.hZ)("detailExpand",[(0,C.wk)("collapsed",(0,C.iF)({height:"0px",minHeight:"0"})),(0,C.wk)("expanded",(0,C.iF)({height:"*"})),(0,C.kY)("expanded <=> collapsed",(0,C.i0)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}})}return t})(),data:{title:"Repuestos"}},{path:"crear-repuesto",component:(()=>{class t{constructor(o,i,r){this.fb=o,this.repuestosService=i,this.router=r,this.form=this.fb.group({familia:[null,s.k0.required],articulo:["",s.k0.required],marca:["",s.k0.required],codigoBarra:["",s.k0.required],precio_compra:["",[s.k0.required,s.k0.min(0)]],precio_venta:["",[s.k0.required,s.k0.min(0)]]})}onSubmit(){if(this.form.valid){const o=this.form.value,i={...o,precio_compra:parseFloat(o.precio_compra),precio_venta:parseFloat(o.precio_venta)};this.repuestosService.crearRepuesto(i).subscribe(r=>{p().fire({icon:"success",title:"Repuesto creado correctamente"}),this.form.reset(),this.router.navigate(["/mantenedores/repuestos"])},r=>{p().fire({icon:"error",title:"Oops...",text:r.error.message||"Algo sali\xf3 mal al crear el repuesto."}),console.error("Error al crear el repuesto:",r)})}else p().fire({icon:"error",title:"Oops...",text:"Por favor, completa todos los campos obligatorios."})}cancelar(){this.router.navigate(["/mantenedores/repuestos"])}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(s.ok),e.rXU(P.Y),e.rXU(j.Ix))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-crear-repuestos"]],standalone:!0,features:[e.aNF],decls:57,vars:7,consts:[[1,"cardWithShadow"],[1,"p-24"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-sm-4","d-flex","align-items-center"],[1,"mat-subtitle-2","f-w-600","d-block","m-b-16"],[1,"col-sm-8"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Ingrese la familia","formControlName","familia"],["matInput","","placeholder","Ingrese el art\xedculo","formControlName","articulo"],["matInput","","placeholder","Ingrese la marca","formControlName","marca"],["matInput","","placeholder","Ingrese el c\xf3digo de barra","formControlName","codigoBarra"],["matInput","","type","number","placeholder","Ingrese el precio de compra","formControlName","precio_compra"],["matInput","","type","number","placeholder","Ingrese el precio de venta","formControlName","precio_venta"],[1,"row","justify-content-end"],["mat-button","","type","button",3,"click"],["mat-flat-button","","color","primary","type","submit"]],template:function(i,r){if(1&i&&(e.j41(0,"mat-card",0)(1,"mat-card-content",1)(2,"form",2),e.bIt("ngSubmit",function(){return r.onSubmit()}),e.j41(3,"div",3)(4,"div",4)(5,"mat-label",5),e.EFF(6,"Familia"),e.k0s()(),e.j41(7,"div",6)(8,"mat-form-field",7),e.nrm(9,"input",8),e.DNE(10,Le,2,0,"mat-error"),e.k0s()()(),e.j41(11,"div",3)(12,"div",4)(13,"mat-label",5),e.EFF(14,"Art\xedculo"),e.k0s()(),e.j41(15,"div",6)(16,"mat-form-field",7),e.nrm(17,"input",9),e.DNE(18,Xe,2,0,"mat-error"),e.k0s()()(),e.j41(19,"div",3)(20,"div",4)(21,"mat-label",5),e.EFF(22,"Marca"),e.k0s()(),e.j41(23,"div",6)(24,"mat-form-field",7),e.nrm(25,"input",10),e.DNE(26,Ye,2,0,"mat-error"),e.k0s()()(),e.j41(27,"div",3)(28,"div",4)(29,"mat-label",5),e.EFF(30,"C\xf3digo de Barra"),e.k0s()(),e.j41(31,"div",6)(32,"mat-form-field",7),e.nrm(33,"input",11),e.DNE(34,qe,2,0,"mat-error"),e.k0s()()(),e.j41(35,"div",3)(36,"div",4)(37,"mat-label",5),e.EFF(38,"Precio de Compra"),e.k0s()(),e.j41(39,"div",6)(40,"mat-form-field",7),e.nrm(41,"input",12),e.DNE(42,Je,2,0,"mat-error"),e.k0s()()(),e.j41(43,"div",3)(44,"div",4)(45,"mat-label",5),e.EFF(46,"Precio de Venta"),e.k0s()(),e.j41(47,"div",6)(48,"mat-form-field",7),e.nrm(49,"input",13),e.DNE(50,Ue,2,0,"mat-error"),e.k0s()()(),e.j41(51,"div",14)(52,"div",6)(53,"button",15),e.bIt("click",function(){return r.cancelar()}),e.EFF(54,"Cancelar"),e.k0s(),e.j41(55,"button",16),e.EFF(56,"Guardar"),e.k0s()()()()()()),2&i){let a,f,v,R,E,F;e.R7$(2),e.Y8G("formGroup",r.form),e.R7$(8),e.vxM(null!=(a=r.form.get("familia"))&&a.invalid?10:-1),e.R7$(8),e.vxM(null!=(f=r.form.get("articulo"))&&f.invalid?18:-1),e.R7$(8),e.vxM(null!=(v=r.form.get("marca"))&&v.invalid?26:-1),e.R7$(8),e.vxM(null!=(R=r.form.get("codigoBarra"))&&R.invalid?34:-1),e.R7$(8),e.vxM(null!=(E=r.form.get("precio_compra"))&&E.invalid?42:-1),e.R7$(8),e.vxM(null!=(F=r.form.get("precio_venta"))&&F.invalid?50:-1)}},dependencies:[s.X1,s.qT,s.me,s.Q0,s.BC,s.cb,s.j4,s.JD,d.Hu,d.RN,d.m2,u.RG,u.rl,u.nJ,u.TL,b.fS,b.fg,_.Hl,_.$z]})}return t})(),data:{title:"Crear Repuesto"}},{path:"editar-repuesto/:id",component:(()=>{class t{constructor(o,i,r,a){this.fb=o,this.repuestosService=i,this.router=r,this.route=a,this.form=this.fb.group({familia:[null,s.k0.required],articulo:["",s.k0.required],marca:["",s.k0.required],codigoBarra:["",s.k0.required],precio_compra:["",[s.k0.required,s.k0.min(0)]],precio_venta:["",[s.k0.required,s.k0.min(0)]]})}ngOnInit(){this.repuestoId=this.route.snapshot.params.id,this.repuestosService.getRepuesto(this.repuestoId).subscribe(o=>{this.form.patchValue(o)})}onSubmit(){if(this.form.valid){const o=this.form.value,i={...o,precio_compra:parseFloat(o.precio_compra),precio_venta:parseFloat(o.precio_venta)};this.repuestosService.actualizarRepuesto(this.repuestoId,i).subscribe(r=>{p().fire({title:"\xc9xito",text:"Repuesto actualizado correctamente",icon:"success"}),this.router.navigate(["/mantenedores/repuestos"])},r=>{p().fire({title:"Error",text:r.error.message||"No se pudo actualizar el repuesto",icon:"error"})})}else p().fire({icon:"error",title:"Oops...",text:"Por favor, completa todos los campos obligatorios."})}cancelar(){this.router.navigate(["/mantenedores/repuestos"])}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(s.ok),e.rXU(P.Y),e.rXU(j.Ix),e.rXU(j.nX))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-editar-repuestos"]],standalone:!0,features:[e.aNF],decls:57,vars:7,consts:[[1,"cardWithShadow"],[1,"p-24"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-sm-4","d-flex","align-items-center"],[1,"mat-subtitle-2","f-w-600","d-block","m-b-16"],[1,"col-sm-8"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Ingrese la familia","formControlName","familia"],["matInput","","placeholder","Ingrese el art\xedculo","formControlName","articulo"],["matInput","","placeholder","Ingrese la marca","formControlName","marca"],["matInput","","placeholder","Ingrese el c\xf3digo de barra","formControlName","codigoBarra"],["matInput","","type","number","placeholder","Ingrese el precio de compra","formControlName","precio_compra"],["matInput","","type","number","placeholder","Ingrese el precio de venta","formControlName","precio_venta"],[1,"row","justify-content-end"],["mat-button","","type","button",3,"click"],["mat-flat-button","","color","primary","type","submit"]],template:function(i,r){if(1&i&&(e.j41(0,"mat-card",0)(1,"mat-card-content",1)(2,"form",2),e.bIt("ngSubmit",function(){return r.onSubmit()}),e.j41(3,"div",3)(4,"div",4)(5,"mat-label",5),e.EFF(6,"Familia"),e.k0s()(),e.j41(7,"div",6)(8,"mat-form-field",7),e.nrm(9,"input",8),e.DNE(10,Qe,2,0,"mat-error"),e.k0s()()(),e.j41(11,"div",3)(12,"div",4)(13,"mat-label",5),e.EFF(14,"Art\xedculo"),e.k0s()(),e.j41(15,"div",6)(16,"mat-form-field",7),e.nrm(17,"input",9),e.DNE(18,Ze,2,0,"mat-error"),e.k0s()()(),e.j41(19,"div",3)(20,"div",4)(21,"mat-label",5),e.EFF(22,"Marca"),e.k0s()(),e.j41(23,"div",6)(24,"mat-form-field",7),e.nrm(25,"input",10),e.DNE(26,Ke,2,0,"mat-error"),e.k0s()()(),e.j41(27,"div",3)(28,"div",4)(29,"mat-label",5),e.EFF(30,"C\xf3digo de Barra"),e.k0s()(),e.j41(31,"div",6)(32,"mat-form-field",7),e.nrm(33,"input",11),e.DNE(34,We,2,0,"mat-error"),e.k0s()()(),e.j41(35,"div",3)(36,"div",4)(37,"mat-label",5),e.EFF(38,"Precio de Compra"),e.k0s()(),e.j41(39,"div",6)(40,"mat-form-field",7),e.nrm(41,"input",12),e.DNE(42,et,2,0,"mat-error"),e.k0s()()(),e.j41(43,"div",3)(44,"div",4)(45,"mat-label",5),e.EFF(46,"Precio de Venta"),e.k0s()(),e.j41(47,"div",6)(48,"mat-form-field",7),e.nrm(49,"input",13),e.DNE(50,tt,2,0,"mat-error"),e.k0s()()(),e.j41(51,"div",14)(52,"div",6)(53,"button",15),e.bIt("click",function(){return r.form.reset()}),e.EFF(54,"Cancelar"),e.k0s(),e.j41(55,"button",16),e.EFF(56,"Guardar"),e.k0s()()()()()()),2&i){let a,f,v,R,E,F;e.R7$(2),e.Y8G("formGroup",r.form),e.R7$(8),e.vxM(null!=(a=r.form.get("familia"))&&a.invalid?10:-1),e.R7$(8),e.vxM(null!=(f=r.form.get("articulo"))&&f.invalid?18:-1),e.R7$(8),e.vxM(null!=(v=r.form.get("marca"))&&v.invalid?26:-1),e.R7$(8),e.vxM(null!=(R=r.form.get("codigoBarra"))&&R.invalid?34:-1),e.R7$(8),e.vxM(null!=(E=r.form.get("precio_compra"))&&E.invalid?42:-1),e.R7$(8),e.vxM(null!=(F=r.form.get("precio_venta"))&&F.invalid?50:-1)}},dependencies:[s.X1,s.qT,s.me,s.Q0,s.BC,s.cb,s.j4,s.JD,d.Hu,d.RN,d.m2,u.RG,u.rl,u.nJ,u.TL,b.fS,b.fg,_.Hl,_.$z]})}return t})(),data:{title:"Editar Repuesto"}}]}}]);