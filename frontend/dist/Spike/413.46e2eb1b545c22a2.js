"use strict";(self.webpackChunkSpike=self.webpackChunkSpike||[]).push([[413],{413:(Y,d,a)=>{a.r(d),a.d(d,{SOLICITUDES_DEL_DIA_CLIENTE_ROUTES:()=>z});var c=a(177),r=a(5596),l=a(9159),u=a(8834),f=a(9213),m=a(3719),p=a(9631),e=a(3953),g=a(1787),C=a(7291);const D=t=>({"row-finalizada":t});function h(t,i){1&t&&(e.j41(0,"th",20),e.EFF(1,"Numero de solicitud"),e.k0s())}function S(t,i){if(1&t&&(e.j41(0,"td",21),e.EFF(1),e.k0s()),2&t){const n=i.$implicit;e.R7$(),e.JRh(n.id)}}function _(t,i){1&t&&(e.j41(0,"th",20),e.EFF(1,"Local"),e.k0s())}function b(t,i){if(1&t&&(e.j41(0,"td",21),e.EFF(1),e.k0s()),2&t){const n=i.$implicit;e.R7$(),e.JRh(null==n.local?null:n.local.nombre_local)}}function v(t,i){1&t&&(e.j41(0,"th",20),e.EFF(1,"Tipo Servicio"),e.k0s())}function E(t,i){if(1&t&&(e.j41(0,"td",21),e.EFF(1),e.k0s()),2&t){const n=i.$implicit;e.R7$(),e.JRh(null==n.tipoServicio?null:n.tipoServicio.nombre)}}function F(t,i){1&t&&(e.j41(0,"th",20),e.EFF(1,"Generado por"),e.k0s())}function R(t,i){if(1&t&&(e.j41(0,"td",21),e.EFF(1),e.k0s()),2&t){const n=i.$implicit;e.R7$(),e.Lme("",null==n.generada_por?null:n.generada_por.name," ",null==n.generada_por?null:n.generada_por.lastName,"")}}function T(t,i){1&t&&(e.j41(0,"th",20),e.EFF(1,"Observaciones"),e.k0s())}function k(t,i){if(1&t&&(e.j41(0,"td",21),e.EFF(1),e.k0s()),2&t){const n=i.$implicit;e.R7$(),e.JRh(n.observaciones)}}function y(t,i){1&t&&(e.j41(0,"th",20),e.EFF(1,"Estado"),e.k0s())}function w(t,i){1&t&&(e.j41(0,"span",26),e.EFF(1,"En Servicio"),e.k0s())}function j(t,i){1&t&&(e.j41(0,"span",27),e.EFF(1,"Pendiente"),e.k0s())}function x(t,i){1&t&&(e.j41(0,"span",28),e.EFF(1,"Finalizada"),e.k0s())}function $(t,i){if(1&t&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&t){const n=e.XpG().$implicit;e.R7$(),e.SpI(" ",n.status," ")}}function I(t,i){if(1&t&&(e.j41(0,"td",21),e.DNE(1,w,2,0,"span",22)(2,j,2,0,"span",23)(3,x,2,0,"span",24)(4,$,2,1,"span",25),e.k0s()),2&t){const n=i.$implicit;e.R7$(),e.Y8G("ngIf","en_servicio"===n.status),e.R7$(),e.Y8G("ngIf","pendiente"===n.status),e.R7$(),e.Y8G("ngIf","finalizada"===n.status),e.R7$(),e.Y8G("ngIf","en_servicio"!==n.status&&"pendiente"!==n.status&&"finalizada"!==n.status)}}function N(t,i){1&t&&e.nrm(0,"tr",29)}function O(t,i){1&t&&e.nrm(0,"tr",30),2&t&&e.Y8G("ngClass",e.eq3(1,D,"finalizada"===i.$implicit.status))}function M(t,i){1&t&&(e.j41(0,"tr",31)(1,"td",32),e.EFF(2,"No hay servicios programados para hoy"),e.k0s()())}const z=[{path:"",component:(()=>{class t{constructor(n,o){this.solicitarVisitaService=n,this.storageService=o,this.displayedColumns=["id","local","tipoServicio","generado_por","observaciones","estado"],this.dataSource=[]}ngOnInit(){this.storageService.getItem("currentUser")?.selectedCompany?.id?this.cargarSolicitudesDelDia():console.warn("No hay una compa\xf1\xeda seleccionada")}cargarSolicitudesDelDia(){const n=this.storageService.getCurrentUserWithCompany();n?.selectedCompany?.id&&this.solicitarVisitaService.getSolicitudesDelDiaPorCliente(n.selectedCompany.id).subscribe({next:o=>{o&&o.success?this.dataSource=o.data||[]:(console.warn("[Component] Formato de respuesta inesperado:",o),this.dataSource=[])},error:o=>{console.error("[Component] Error al cargar solicitudes:",o),this.dataSource=[]}})}applyFilter(n){}static#e=this.\u0275fac=function(o){return new(o||t)(e.rXU(g.I),e.rXU(C.n))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-solicitudes-del-dia-cliente"]],standalone:!0,features:[e.aNF],decls:33,vars:3,consts:[["input",""],[1,"cardWithShadow"],[1,"p-24"],[1,"row","justify-content-between","m-b-8"],[1,"col-sm-4","col-lg-3"],["appearance","outline",1,"w-100","hide-hint"],["matInput","","placeholder","Buscar",3,"keyup"],[1,"table-responsive","m-t-30"],["mat-table","",1,"w-100","mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","local"],["matColumnDef","tipoServicio"],["matColumnDef","generado_por"],["matColumnDef","observaciones"],["matColumnDef","estado"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["mat-header-cell",""],["mat-cell",""],["class","badge bg-primary",4,"ngIf"],["class","badge bg-warning",4,"ngIf"],["class","badge bg-success",4,"ngIf"],[4,"ngIf"],[1,"badge","bg-primary"],[1,"badge","bg-warning"],[1,"badge","bg-success"],["mat-header-row",""],["mat-row","",3,"ngClass"],[1,"mat-row"],["colspan","6",1,"mat-cell"]],template:function(o,s){if(1&o){const G=e.RV6();e.j41(0,"mat-card",1)(1,"mat-card-content",2)(2,"div",3)(3,"div",4)(4,"h2"),e.EFF(5,"Mis Servicios del D\xeda"),e.k0s()(),e.j41(6,"div",4)(7,"mat-form-field",5)(8,"input",6,0),e.bIt("keyup",function(L){return e.eBV(G),e.Njj(s.applyFilter(L))}),e.k0s()()()(),e.j41(10,"div",7)(11,"table",8),e.qex(12,9),e.DNE(13,h,2,0,"th",10)(14,S,2,1,"td",11),e.bVm(),e.qex(15,12),e.DNE(16,_,2,0,"th",10)(17,b,2,1,"td",11),e.bVm(),e.qex(18,13),e.DNE(19,v,2,0,"th",10)(20,E,2,1,"td",11),e.bVm(),e.qex(21,14),e.DNE(22,F,2,0,"th",10)(23,R,2,2,"td",11),e.bVm(),e.qex(24,15),e.DNE(25,T,2,0,"th",10)(26,k,2,1,"td",11),e.bVm(),e.qex(27,16),e.DNE(28,y,2,0,"th",10)(29,I,5,4,"td",11),e.bVm(),e.DNE(30,N,1,0,"tr",17)(31,O,1,3,"tr",18)(32,M,3,0,"tr",19),e.k0s()()()()}2&o&&(e.R7$(11),e.Y8G("dataSource",s.dataSource),e.R7$(19),e.Y8G("matHeaderRowDef",s.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",s.displayedColumns))},dependencies:[c.MD,c.YU,c.bT,r.Hu,r.RN,r.m2,l.tP,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB,l.ky,u.Hl,f.m_,m.RG,m.rl,p.fS,p.fg],styles:[".badge[_ngcontent-%COMP%]{padding:6px 12px;border-radius:16px;font-size:12px;font-weight:500;text-transform:capitalize;display:inline-block;min-width:80px;text-align:center}.badge.bg-primary[_ngcontent-%COMP%]{background-color:#1e88e5!important;color:#fff}.badge.bg-warning[_ngcontent-%COMP%]{background-color:#ffc107!important;color:#000}.badge.bg-danger[_ngcontent-%COMP%]{background-color:#ef5350!important;color:#fff}",".row-finalizada[_ngcontent-%COMP%] {\n  background-color: #e8f5e9 !important; \n\n}\n\n\n\n.row-finalizada[_ngcontent-%COMP%]:hover {\n  background-color: #c8e6c9 !important; \n\n}\n\n.badge[_ngcontent-%COMP%] {\n  padding: 0.5em 1em;\n  border-radius: 4px;\n  font-size: 12px;\n  font-weight: 500;\n}\n\n.bg-primary[_ngcontent-%COMP%] {\n  background-color: #1e88e5;\n  color: white;\n}\n\n.bg-warning[_ngcontent-%COMP%] {\n  background-color: #ffc107;\n  color: #000;\n}\n\n.bg-success[_ngcontent-%COMP%] {\n  background-color: #4caf50;\n  color: white;\n}"]})}return t})(),data:{title:`Mis Servicios del d\xeda ${(new Date).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})}`}}]}}]);