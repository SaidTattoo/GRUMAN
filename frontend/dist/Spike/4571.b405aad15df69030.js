"use strict";(self.webpackChunkSpike=self.webpackChunkSpike||[]).push([[4571],{4571:(St,M,r)=>{r.r(M),r.d(M,{VEHICULOS_ROUTES:()=>Nt});var C=r(177),B=r(1975),_=r(8834),p=r(5596),f=r(3719),v=r(9213),E=r(9631),h=r(9159),V=r(4823),P=r(8032),m=r.n(P),T=r(2288),t=r(3953),j=r(9386),x=r(4006),g=r(8887);function G(n,a){1&n&&(t.j41(0,"th",25),t.EFF(1," Movil "),t.k0s())}function O(n,a){if(1&n&&(t.j41(0,"td",26),t.EFF(1),t.k0s()),2&n){const o=a.$implicit;t.R7$(),t.SpI(" ",o.movil," ")}}function X(n,a){1&n&&(t.j41(0,"th",25),t.EFF(1," Patente "),t.k0s())}function U(n,a){if(1&n&&(t.j41(0,"td",26),t.nrm(1,"span",27),t.k0s()),2&n){const o=a.$implicit,i=t.XpG();t.R7$(),t.Y8G("innerHTML",i.formatPatente(o.patente),t.npT)}}function A(n,a){1&n&&(t.j41(0,"th",25),t.EFF(1," Marca "),t.k0s())}function L(n,a){if(1&n&&(t.j41(0,"td",26),t.EFF(1),t.k0s()),2&n){const o=a.$implicit;t.R7$(),t.SpI(" ",o.marca," ")}}function z(n,a){1&n&&(t.j41(0,"th",25),t.EFF(1," Modelo "),t.k0s())}function H(n,a){if(1&n&&(t.j41(0,"td",26),t.EFF(1),t.k0s()),2&n){const o=a.$implicit;t.R7$(),t.SpI(" ",o.modelo," ")}}function Y(n,a){1&n&&(t.j41(0,"th",25),t.EFF(1," Documentaci\xf3n "),t.k0s())}function J(n,a){if(1&n){const o=t.RV6();t.j41(0,"td",26)(1,"button",28),t.bIt("click",function(){const e=t.eBV(o).$implicit,c=t.XpG();return t.Njj(c.openDocumentacion(e.id))}),t.j41(2,"mat-icon"),t.EFF(3,"file_present"),t.k0s()()()}}function W(n,a){1&n&&(t.j41(0,"th",25),t.EFF(1," Referencia "),t.k0s())}function Z(n,a){if(1&n&&(t.j41(0,"td",26),t.EFF(1),t.k0s()),2&n){const o=a.$implicit;t.R7$(),t.SpI(" ",o.referencia," ")}}function K(n,a){1&n&&(t.j41(0,"th",25),t.EFF(1," Estado "),t.k0s())}function Q(n,a){if(1&n&&(t.j41(0,"td",26),t.EFF(1),t.k0s()),2&n){const o=a.$implicit;t.R7$(),t.SpI(" ",o.activo?"Activo":"Inactivo"," ")}}function q(n,a){1&n&&(t.j41(0,"th",25),t.EFF(1," Acciones "),t.k0s())}function tt(n,a){if(1&n){const o=t.RV6();t.j41(0,"td",26)(1,"button",29),t.bIt("click",function(){const e=t.eBV(o).$implicit,c=t.XpG();return t.Njj(c.verVehiculo(e))}),t.j41(2,"mat-icon"),t.EFF(3,"visibility"),t.k0s()(),t.j41(4,"button",29),t.bIt("click",function(){const e=t.eBV(o).$implicit,c=t.XpG();return t.Njj(c.asignarTecnico(e))}),t.j41(5,"mat-icon"),t.EFF(6,"person"),t.k0s()(),t.j41(7,"button",29),t.bIt("click",function(){const e=t.eBV(o).$implicit,c=t.XpG();return t.Njj(c.eliminarVehiculo(e.id))}),t.j41(8,"mat-icon"),t.EFF(9,"delete"),t.k0s()()()}2&n&&(t.R7$(),t.Y8G("matTooltip","Ver vehiculo"),t.R7$(3),t.Y8G("matTooltip","Asignar tecnico"),t.R7$(3),t.Y8G("matTooltip","Eliminar vehiculo"))}function et(n,a){1&n&&t.nrm(0,"tr",30)}function ot(n,a){1&n&&t.nrm(0,"tr",31)}function nt(n,a){if(1&n&&(t.j41(0,"tr",32)(1,"td",33),t.EFF(2),t.k0s()()),2&n){t.XpG();const o=t.sdS(13);t.R7$(2),t.SpI(' No data matching the filter "',o.value,'" ')}}let it=(()=>{class n{constructor(o,i,e){this.vehiculosService=o,this.dialog=i,this.router=e,this.displayedColumns=["movil","patente","marca","modelo","documentacion","estado","acciones"],this.data=[],this.dataSource=new h.I6}ngOnInit(){this.vehiculosService.getVehiculos().subscribe(o=>{this.data=o.map(i=>("string"==typeof i.documentacion&&(i.documentacion=JSON.parse(i.documentacion)),i)),this.dataSource.data=this.data})}applyFilter(o){this.dataSource.filter=o.target.value.trim().toLowerCase()}modalNuevoLocal(){this.router.navigate(["/mantenedores/vehiculos/crear-vehiculo"])}formatPatente(o){return o.replace(/(.{2})(?=.)/g,'$1<span class="dot">\xb7</span>')}getDocumentacionKeys(o){return o?Object.keys(o):[]}getIconName(o){return{revision_tecnica:"description",gases:"cloud",permiso_circulacion:"directions_car",seguro_obligatorio:"verified_user"}[o]||"insert_drive_file"}getDocumentacion(o){return o.documentacion?JSON.stringify(o.documentacion):"No documentos"}openDocumentacion(o){this.router.navigate(["/mantenedores/vehiculos/documentacion",o])}verVehiculo(o){console.log("Ruta ver veh\xedculo:",`/mantenedores/vehiculos/ver-vehiculo/${o.id}`),this.router.navigate([`/mantenedores/vehiculos/ver-vehiculo/${o.id}`])}asignarTecnico(o){console.log("Ruta asignar t\xe9cnico:",`/mantenedores/vehiculos/asignar-tecnico/${o.id}`),this.router.navigate([`/mantenedores/vehiculos/asignar-tecnico/${o.id}`])}eliminarVehiculo(o){this.vehiculosService.deleteVehiculo(o).subscribe(()=>{this.ngOnInit()})}exportarExcel(){if(!this.dataSource.data||0===this.dataSource.data.length)return void m().fire({title:"Advertencia",text:"No hay datos para exportar",icon:"warning",confirmButtonText:"Aceptar"});const o=this.dataSource.data.map(u=>({M\u00f3vil:u.movil||"No asignado",Patente:u.patente||"No asignado",Marca:u.marca||"No asignado",Modelo:u.modelo||"No asignado",Estado:u.activo?"Activo":"Inactivo","Revisi\xf3n T\xe9cnica":u.documentacion?.revision_tecnica||"No disponible","Certificado de Gases":u.documentacion?.gases||"No disponible","Seguro Obligatorio":u.documentacion?.seguro_obligatorio||"No disponible","Padr\xf3n Vehicular":u.documentacion?.padron_vehicular||"No disponible"})),i=T.Wp.book_new(),e=T.Wp.json_to_sheet(o);e["!cols"]=[{wch:15},{wch:12},{wch:15},{wch:20},{wch:10},{wch:20},{wch:20},{wch:20},{wch:20}],T.Wp.book_append_sheet(i,e,"Veh\xedculos");const l=`Vehiculos_${(new Date).toISOString().split("T")[0]}.xlsx`;T._h(i,l),m().fire({title:"\xc9xito",text:"El archivo Excel se ha descargado correctamente",icon:"success",timer:2e3,showConfirmButton:!1})}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(j.c),t.rXU(x.bZ),t.rXU(g.Ix))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-vehiculos"]],standalone:!0,features:[t.aNF],decls:43,vars:3,consts:[["input",""],[1,"cardWithShadow"],[1,"p-24"],[1,"row","justify-content-between","m-b-8"],[1,"col-sm-4","col-lg-4"],["mat-flat-button","","color","primary",3,"click"],["mat-stroked-button","","color","primary",3,"click"],[1,"col-sm-4","col-lg-3"],["appearance","outline",1,"w-100","hide-hint"],["matInput","","placeholder","Ex. ium","placeholder","Search here",3,"keyup"],[1,"table-responsive","m-t-30"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","movil"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","patente"],["matColumnDef","marca"],["matColumnDef","modelo"],["matColumnDef","documentacion"],["matColumnDef","tipo"],["matColumnDef","estado"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-cell",""],[1,"patente",3,"innerHTML"],["mat-icon-button","",3,"click"],["mat-icon-button","","matTooltipPosition","above",3,"click","matTooltip"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","12",1,"mat-cell"]],template:function(i,e){if(1&i){const c=t.RV6();t.j41(0,"mat-card",1)(1,"mat-card-content",2)(2,"div",3)(3,"div",4)(4,"button",5),t.bIt("click",function(){return t.eBV(c),t.Njj(e.modalNuevoLocal())}),t.EFF(5,"Nuevo Vehiculo"),t.k0s(),t.j41(6,"button",6),t.bIt("click",function(){return t.eBV(c),t.Njj(e.exportarExcel())}),t.j41(7,"mat-icon"),t.EFF(8,"file_download"),t.k0s(),t.EFF(9," Exportar a Excel "),t.k0s()(),t.j41(10,"div",7)(11,"mat-form-field",8)(12,"input",9,0),t.bIt("keyup",function(l){return t.eBV(c),t.Njj(e.applyFilter(l))}),t.k0s()()()(),t.j41(14,"div",10)(15,"table",11),t.qex(16,12),t.DNE(17,G,2,0,"th",13)(18,O,2,1,"td",14),t.bVm(),t.qex(19,15),t.DNE(20,X,2,0,"th",13)(21,U,2,1,"td",14),t.bVm(),t.qex(22,16),t.DNE(23,A,2,0,"th",13)(24,L,2,1,"td",14),t.bVm(),t.qex(25,17),t.DNE(26,z,2,0,"th",13)(27,H,2,1,"td",14),t.bVm(),t.qex(28,18),t.DNE(29,Y,2,0,"th",13)(30,J,4,0,"td",14),t.bVm(),t.qex(31,19),t.DNE(32,W,2,0,"th",13)(33,Z,2,1,"td",14),t.bVm(),t.qex(34,20),t.DNE(35,K,2,0,"th",13)(36,Q,2,1,"td",14),t.bVm(),t.qex(37,21),t.DNE(38,q,2,0,"th",13)(39,tt,10,3,"td",14),t.bVm(),t.DNE(40,et,1,0,"tr",22)(41,ot,1,0,"tr",23)(42,nt,3,1,"tr",24),t.k0s()()()()}2&i&&(t.R7$(15),t.Y8G("dataSource",e.dataSource),t.R7$(25),t.Y8G("matHeaderRowDef",e.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",e.displayedColumns))},dependencies:[p.Hu,p.RN,p.m2,h.tP,h.Zl,h.tL,h.ji,h.cC,h.YV,h.iL,h.KS,h.$R,h.YZ,h.NB,h.ky,f.RG,f.rl,E.fS,E.fg,_.Hl,_.$z,_.iY,v.m_,v.An,V.uc,V.oV,C.MD,B.Y],styles:[".patente[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;color:#000;border:1px solid #000;padding:5px;border-radius:5px}.dot[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;line-height:0}.red-icon[_ngcontent-%COMP%]{color:red}.green-icon[_ngcontent-%COMP%]{color:green}"]})}return n})();var y=r(467),b=r(3902),D=r(1997),ct=r(9350),at=r(7707);function rt(n,a){const o="object"==typeof a;return new Promise((i,e)=>{const c=new at.Ms({next:s=>{i(s),c.unsubscribe()},error:e,complete:()=>{o?i(a.defaultValue):e(new ct.G)}});n.subscribe(c)})}var N=r(4481),lt=r(390);function st(n,a){if(1&n){const o=t.RV6();t.j41(0,"button",12),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.descargarDocumento("revision_tecnica"))}),t.j41(1,"mat-icon"),t.EFF(2,"download"),t.k0s()(),t.j41(3,"button",13),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.actualizarDocumento("revision_tecnica"))}),t.j41(4,"mat-icon"),t.EFF(5,"update"),t.k0s()(),t.j41(6,"button",14),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.actualizarFechaVencimiento("revision_tecnica"))}),t.j41(7,"mat-icon"),t.EFF(8,"event"),t.k0s()(),t.j41(9,"button",15),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.eliminarDocumento("revision_tecnica"))}),t.j41(10,"mat-icon"),t.EFF(11,"delete"),t.k0s()()}}function ut(n,a){if(1&n){const o=t.RV6();t.j41(0,"button",16),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.subirDocumento("revision_tecnica"))}),t.j41(1,"mat-icon"),t.EFF(2,"upload"),t.k0s()()}}function mt(n,a){if(1&n){const o=t.RV6();t.j41(0,"button",12),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.descargarDocumento("gases"))}),t.j41(1,"mat-icon"),t.EFF(2,"download"),t.k0s()(),t.j41(3,"button",13),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.actualizarDocumento("gases"))}),t.j41(4,"mat-icon"),t.EFF(5,"update"),t.k0s()(),t.j41(6,"button",14),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.actualizarFechaVencimiento("gases"))}),t.j41(7,"mat-icon"),t.EFF(8,"event"),t.k0s()(),t.j41(9,"button",15),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.eliminarDocumento("gases"))}),t.j41(10,"mat-icon"),t.EFF(11,"delete"),t.k0s()()}}function dt(n,a){if(1&n){const o=t.RV6();t.j41(0,"button",16),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.subirDocumento("gases"))}),t.j41(1,"mat-icon"),t.EFF(2,"upload"),t.k0s()()}}function pt(n,a){if(1&n){const o=t.RV6();t.j41(0,"button",12),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.descargarDocumento("permiso_circulacion"))}),t.j41(1,"mat-icon"),t.EFF(2,"download"),t.k0s()(),t.j41(3,"button",13),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.actualizarDocumento("permiso_circulacion"))}),t.j41(4,"mat-icon"),t.EFF(5,"update"),t.k0s()(),t.j41(6,"button",14),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.actualizarFechaVencimiento("permiso_circulacion"))}),t.j41(7,"mat-icon"),t.EFF(8,"event"),t.k0s()(),t.j41(9,"button",15),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.eliminarDocumento("permiso_circulacion"))}),t.j41(10,"mat-icon"),t.EFF(11,"delete"),t.k0s()()}}function ht(n,a){if(1&n){const o=t.RV6();t.j41(0,"button",16),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.subirDocumento("permiso_circulacion"))}),t.j41(1,"mat-icon"),t.EFF(2,"upload"),t.k0s()()}}function _t(n,a){if(1&n){const o=t.RV6();t.j41(0,"button",12),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.descargarDocumento("seguro_obligatorio"))}),t.j41(1,"mat-icon"),t.EFF(2,"download"),t.k0s()(),t.j41(3,"button",13),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.actualizarDocumento("seguro_obligatorio"))}),t.j41(4,"mat-icon"),t.EFF(5,"update"),t.k0s()(),t.j41(6,"button",14),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.actualizarFechaVencimiento("seguro_obligatorio"))}),t.j41(7,"mat-icon"),t.EFF(8,"event"),t.k0s()(),t.j41(9,"button",15),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.eliminarDocumento("seguro_obligatorio"))}),t.j41(10,"mat-icon"),t.EFF(11,"delete"),t.k0s()()}}function ft(n,a){if(1&n){const o=t.RV6();t.j41(0,"button",16),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.subirDocumento("seguro_obligatorio"))}),t.j41(1,"mat-icon"),t.EFF(2,"upload"),t.k0s()()}}function vt(n,a){if(1&n&&t.EFF(0),2&n){const o=t.XpG();t.SpI(" ",o.documentacion.otros.length," documento(s) ")}}function gt(n,a){1&n&&t.EFF(0," No hay documentos adicionales ")}function bt(n,a){if(1&n){const o=t.RV6();t.j41(0,"mat-list-item",17)(1,"mat-icon",2),t.EFF(2,"description"),t.k0s(),t.j41(3,"div",8),t.EFF(4),t.k0s(),t.j41(5,"div",9)(6,"div"),t.EFF(7),t.nI1(8,"date"),t.k0s(),t.j41(9,"div",5),t.EFF(10),t.nI1(11,"date"),t.k0s()(),t.j41(12,"div",10)(13,"button",12),t.bIt("click",function(){const e=t.eBV(o).$implicit,c=t.XpG(2);return t.Njj(c.descargarDocumento("otros",null==e?null:e.nombre))}),t.j41(14,"mat-icon"),t.EFF(15,"download"),t.k0s()(),t.j41(16,"button",14),t.bIt("click",function(){const e=t.eBV(o).$implicit,c=t.XpG(2);return t.Njj(c.actualizarFechaVencimiento("otros",null==e?null:e.nombre))}),t.j41(17,"mat-icon"),t.EFF(18,"event"),t.k0s()(),t.j41(19,"button",15),t.bIt("click",function(){const e=t.eBV(o).$implicit,c=t.XpG(2);return t.Njj(c.eliminarDocumento("otros",null==e?null:e.nombre))}),t.j41(20,"mat-icon"),t.EFF(21,"delete"),t.k0s()()()()}if(2&n){const o=a.$implicit;t.R7$(4),t.JRh(o.nombre||"Documento sin nombre"),t.R7$(3),t.SpI("Fecha: ",t.i5U(8,3,o.fecha,"dd/MM/yyyy HH:mm"),""),t.R7$(3),t.SpI(" Vence: ",o.fechaVencimiento?t.i5U(11,6,o.fechaVencimiento,"dd/MM/yyyy"):"Sin fecha de vencimiento"," ")}}function Ft(n,a){if(1&n&&t.Z7z(0,bt,22,9,"mat-list-item",17,t.Vm6),2&n){const o=t.XpG();t.Dyx(o.documentacion.otros)}}let Ct=(()=>{class n{constructor(o,i,e,c,s,l,u){this.route=o,this.uploadService=i,this.vehiculosService=e,this.cdr=c,this.router=s,this.dialog=l,this.documentosService=u,this.vehiculoId="",this.documentacion={revision_tecnica:null,permiso_circulacion:null,seguro_obligatorio:null,gases:null,otros:[]},this.vehiculoId=this.route.snapshot.params.id}ngOnInit(){this.cargarDocumentacion()}subirDocumento(o){var i=this;return(0,y.A)(function*(){console.log("Subiendo documento:",o);const e=document.createElement("input");e.type="file",e.accept="otros"===o?".pdf,.doc,.docx,.xls,.xlsx":".pdf",e.multiple="otros"===o,e.onchange=function(){var c=(0,y.A)(function*(s){const l=Array.from(s.target.files||[]);console.log(`Archivos seleccionados para ${o}:`,l);for(const u of l){let F=u.name.split(".")[0];"otros"===o&&(F=prompt("Ingrese un nombre para el documento:",F)||F);const R=new FormData;R.append("file",u);const $="otros"===o?`vehiculos/${i.vehiculoId}/documentos/otros/${encodeURIComponent(F)}`:`vehiculos/${i.vehiculoId}/documentos/${o}`;try{console.log(`Intentando subir archivo a ${$}`);const k=yield rt(i.uploadService.uploadFile(R,$));console.log("Respuesta del servidor:",k),"otros"===o?i.documentacion.otros.push(k):i.documentacion[o]=k,i.cdr.detectChanges(),m().fire("\xc9xito","Documento subido correctamente","success")}catch(k){console.error("Error al subir documento:",k),m().fire("Error","No se pudo subir el documento","error")}}});return function(s){return c.apply(this,arguments)}}(),e.click()})()}descargarDocumento(o,i){m().fire({title:"Descargando...",text:"Por favor espere",allowOutsideClick:!1,didOpen:()=>{m().showLoading()}});const e=`vehiculos/${this.vehiculoId}/documentos/${o}`;console.log(`Intentando descargar documento desde ${e}`),this.uploadService.downloadFile(e).subscribe({next:c=>{const s=new Blob([c],{type:c.type}),l=window.URL.createObjectURL(s),u=document.createElement("a");u.href=l,u.download=`${o}.pdf`,u.click(),window.URL.revokeObjectURL(l),m().close()},error:c=>{console.error("Error al descargar documento:",c),m().fire({icon:"error",title:"Error",text:"No se pudo descargar el documento"})}})}eliminarDocumento(o,i){m().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esta acci\xf3n",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"}).then(e=>{if(e.isConfirmed){const c=`vehiculos/${this.vehiculoId}/documentos/${o}`;console.log(`Intentando eliminar documento en ${c}`),this.uploadService.deleteFile(c).subscribe({next:()=>{m().fire("Eliminado","El documento ha sido eliminado","success"),this.documentacion&&(delete this.documentacion[o],this.cdr.detectChanges())},error:s=>{console.error("Error al eliminar documento:",s),m().fire({icon:"error",title:"Error",text:"No se pudo eliminar el documento"})}})}})}actualizarDocumento(o){}cargarDocumentacion(){console.log("Cargando documentaci\xf3n para el veh\xedculo:",this.vehiculoId),this.vehiculosService.getDocumentacionVehiculo(this.vehiculoId).subscribe({next:o=>{console.log("Documentaci\xf3n cargada:",o),this.documentacion=o||{revision_tecnica:null,permiso_circulacion:null,seguro_obligatorio:null,gases:null,otros:[]},this.cdr.detectChanges()},error:o=>{console.error("Error al cargar la documentaci\xf3n:",o),m().fire("Error","No se pudo cargar la documentaci\xf3n","error")}})}actualizarFechaVencimiento(o,i){var e=this;return(0,y.A)(function*(){console.log("Actualizando fecha de vencimiento para:",o,i);let c=null;if(c="otros"===o&&i?e.documentacion.otros.find(l=>l.nombre===i)||null:e.documentacion[o],!c||!c.id)return console.error("No se encontr\xf3 el ID del documento"),void m().fire({icon:"error",title:"Error",text:"No se encontr\xf3 el documento"});const{value:s}=yield m().fire({title:"Seleccionar fecha de vencimiento",html:'<input type="date" id="fecha-vencimiento" class="swal2-input">',didOpen:()=>{document.getElementById("fecha-vencimiento").value=c.fechaVencimiento?new Date(c.fechaVencimiento).toISOString().split("T")[0]:(new Date).toISOString().split("T")[0]},showCancelButton:!0,confirmButtonText:"Guardar",cancelButtonText:"Cancelar",preConfirm:()=>{const l=document.getElementById("fecha-vencimiento");return l.value?new Date(l.value):null}});s&&e.documentosService.actualizarFechaVencimiento(c.id,s).subscribe({next:l=>{if("otros"===o){const u=e.documentacion.otros.findIndex(F=>F.nombre===i);-1!==u&&(e.documentacion.otros[u]=l)}else e.documentacion[o]=l;e.cdr.detectChanges(),m().fire({icon:"success",title:"Fecha de vencimiento actualizada",showConfirmButton:!1,timer:1500})},error:l=>{console.error("Error al actualizar fecha de vencimiento:",l),m().fire({icon:"error",title:"Error",text:"No se pudo actualizar la fecha de vencimiento"})}})})()}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(g.nX),t.rXU(lt.l),t.rXU(j.c),t.rXU(t.gRc),t.rXU(g.Ix),t.rXU(x.bZ),t.rXU(N.F))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-documentacion"]],standalone:!0,features:[t.Jv_([N.F]),t.aNF],decls:77,vars:38,consts:[[1,"documentacion-list"],["mat-subheader",""],["matListItemIcon",""],["matListItemTitle","",1,"documento-titulo"],["matListItemLine","",1,"fecha-container"],[1,"text-muted"],["matListItemMeta","",1,"acciones-container"],["mat-icon-button","","color","primary","matTooltip","Subir documento"],["matListItemTitle",""],["matListItemLine",""],["matListItemMeta",""],["mat-icon-button","","color","primary","matTooltip","Subir nuevos documentos",3,"click"],["mat-icon-button","","color","primary","matTooltip","Descargar",3,"click"],["mat-icon-button","","color","accent","matTooltip","Actualizar",3,"click"],["mat-icon-button","","color","accent","matTooltip","Actualizar fecha de vencimiento",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-icon-button","","color","primary","matTooltip","Subir documento",3,"click"],[1,"sub-item"]],template:function(i,e){1&i&&(t.j41(0,"mat-list",0)(1,"div",1),t.EFF(2,"Documentaci\xf3n del Veh\xedculo"),t.k0s(),t.j41(3,"mat-list-item")(4,"mat-icon",2),t.EFF(5,"description"),t.k0s(),t.j41(6,"div",3),t.EFF(7,"Revisi\xf3n T\xe9cnica"),t.k0s(),t.j41(8,"div",4)(9,"div"),t.EFF(10),t.nI1(11,"date"),t.k0s(),t.j41(12,"div",5),t.EFF(13),t.nI1(14,"date"),t.k0s()(),t.j41(15,"div",6),t.DNE(16,st,12,0)(17,ut,3,0,"button",7),t.k0s()(),t.j41(18,"mat-list-item")(19,"mat-icon",2),t.EFF(20,"eco"),t.k0s(),t.j41(21,"div",8),t.EFF(22,"Certificado de Gases"),t.k0s(),t.j41(23,"div",9)(24,"div"),t.EFF(25),t.nI1(26,"date"),t.k0s(),t.j41(27,"div",5),t.EFF(28),t.nI1(29,"date"),t.k0s()(),t.j41(30,"div",10),t.DNE(31,mt,12,0)(32,dt,3,0,"button",7),t.k0s()(),t.j41(33,"mat-list-item")(34,"mat-icon",2),t.EFF(35,"card_membership"),t.k0s(),t.j41(36,"div",8),t.EFF(37,"Permiso de Circulaci\xf3n"),t.k0s(),t.j41(38,"div",9)(39,"div"),t.EFF(40),t.nI1(41,"date"),t.k0s(),t.j41(42,"div",5),t.EFF(43),t.nI1(44,"date"),t.k0s()(),t.j41(45,"div",10),t.DNE(46,pt,12,0)(47,ht,3,0,"button",7),t.k0s()(),t.j41(48,"mat-list-item")(49,"mat-icon",2),t.EFF(50,"security"),t.k0s(),t.j41(51,"div",8),t.EFF(52,"Seguro Obligatorio"),t.k0s(),t.j41(53,"div",9)(54,"div"),t.EFF(55),t.nI1(56,"date"),t.k0s(),t.j41(57,"div",5),t.EFF(58),t.nI1(59,"date"),t.k0s()(),t.j41(60,"div",10),t.DNE(61,_t,12,0)(62,ft,3,0,"button",7),t.k0s()(),t.nrm(63,"mat-divider"),t.j41(64,"mat-list-item")(65,"mat-icon",2),t.EFF(66,"folder"),t.k0s(),t.j41(67,"div",8),t.EFF(68,"Otros Documentos"),t.k0s(),t.j41(69,"div",9),t.DNE(70,vt,1,1)(71,gt,1,0),t.k0s(),t.j41(72,"div",10)(73,"button",11),t.bIt("click",function(){return e.subirDocumento("otros")}),t.j41(74,"mat-icon"),t.EFF(75,"upload"),t.k0s()()()(),t.DNE(76,Ft,2,0),t.k0s()),2&i&&(t.R7$(10),t.SpI("Fecha: ",null!=e.documentacion.revision_tecnica&&e.documentacion.revision_tecnica.fecha?t.i5U(11,14,null==e.documentacion.revision_tecnica?null:e.documentacion.revision_tecnica.fecha,"dd/MM/yyyy"):"No registrada",""),t.R7$(3),t.SpI(" Vence: ",null!=e.documentacion.revision_tecnica&&e.documentacion.revision_tecnica.fechaVencimiento?t.i5U(14,17,null==e.documentacion.revision_tecnica?null:e.documentacion.revision_tecnica.fechaVencimiento,"dd/MM/yyyy"):"Sin fecha de vencimiento"," "),t.R7$(3),t.vxM(e.documentacion.revision_tecnica?16:17),t.R7$(9),t.SpI("Fecha: ",null!=e.documentacion.gases&&e.documentacion.gases.fecha?t.i5U(26,20,null==e.documentacion.gases?null:e.documentacion.gases.fecha,"dd/MM/yyyy"):"No registrada",""),t.R7$(3),t.SpI(" Vence: ",null!=e.documentacion.gases&&e.documentacion.gases.fechaVencimiento?t.i5U(29,23,null==e.documentacion.gases?null:e.documentacion.gases.fechaVencimiento,"dd/MM/yyyy"):"Sin fecha de vencimiento"," "),t.R7$(3),t.vxM(e.documentacion.gases?31:32),t.R7$(9),t.SpI("Fecha: ",null!=e.documentacion.permiso_circulacion&&e.documentacion.permiso_circulacion.fecha?t.i5U(41,26,null==e.documentacion.permiso_circulacion?null:e.documentacion.permiso_circulacion.fecha,"dd/MM/yyyy"):"No registrada",""),t.R7$(3),t.SpI(" Vence: ",null!=e.documentacion.permiso_circulacion&&e.documentacion.permiso_circulacion.fechaVencimiento?t.i5U(44,29,null==e.documentacion.permiso_circulacion?null:e.documentacion.permiso_circulacion.fechaVencimiento,"dd/MM/yyyy"):"Sin fecha de vencimiento"," "),t.R7$(3),t.vxM(e.documentacion.permiso_circulacion?46:47),t.R7$(9),t.SpI("Fecha: ",null!=e.documentacion.seguro_obligatorio&&e.documentacion.seguro_obligatorio.fecha?t.i5U(56,32,null==e.documentacion.seguro_obligatorio?null:e.documentacion.seguro_obligatorio.fecha,"dd/MM/yyyy"):"No registrada",""),t.R7$(3),t.SpI(" Vence: ",null!=e.documentacion.seguro_obligatorio&&e.documentacion.seguro_obligatorio.fechaVencimiento?t.i5U(59,35,null==e.documentacion.seguro_obligatorio?null:e.documentacion.seguro_obligatorio.fechaVencimiento,"dd/MM/yyyy"):"Sin fecha de vencimiento"," "),t.R7$(3),t.vxM(e.documentacion.seguro_obligatorio?61:62),t.R7$(9),t.vxM(e.documentacion&&e.documentacion.otros.length?70:71),t.R7$(6),t.vxM(e.documentacion&&e.documentacion.otros.length?76:-1))},dependencies:[C.MD,C.vh,b.Fg,b.jt,b.YE,b.ZV,b.EI,D.q,b.C_,b.yE,b.BJ,v.m_,v.An,D.w,_.Hl,_.iY,V.uc,V.oV],styles:["mat-list[_ngcontent-%COMP%]{max-width:100%;background:#fff;border-radius:4px;box-shadow:0 2px 4px #0000001a}mat-list-item[_ngcontent-%COMP%]{margin:8px 0}mat-list-item[_ngcontent-%COMP%]:hover{background:#0000000a}[matListItemTitle][_ngcontent-%COMP%]{font-weight:500}[matListItemLine][_ngcontent-%COMP%]{color:#0000008a}[matListItemMeta][_ngcontent-%COMP%]{display:flex;gap:8px}mat-divider[_ngcontent-%COMP%]{margin:8px 0}.mat-icon[_ngcontent-%COMP%]{color:#1976d2}button[mat-icon-button][_ngcontent-%COMP%]{transition:transform .2s}button[mat-icon-button][_ngcontent-%COMP%]:hover{transform:scale(1.1)}.otros-documentos[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px}.otros-documentos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sub-item[_ngcontent-%COMP%]{padding-left:32px;background:#00000005;margin:4px 0;border-radius:4px}.sub-item[_ngcontent-%COMP%]:hover{background:#0000000a}[matListItemTitle][_ngcontent-%COMP%]{font-size:.9em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:200px}[matListItemLine][_ngcontent-%COMP%]{font-size:.8em;color:#0009}.documentacion-list[_ngcontent-%COMP%]   .mat-mdc-list-item[_ngcontent-%COMP%]{height:auto;padding:16px 0}.documentacion-list[_ngcontent-%COMP%]   .documento-titulo[_ngcontent-%COMP%]{min-width:150px}.documentacion-list[_ngcontent-%COMP%]   .fecha-container[_ngcontent-%COMP%]{flex:1;padding:0 16px;min-width:250px}.documentacion-list[_ngcontent-%COMP%]   .acciones-container[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end;min-width:160px}"]})}return n})();var d=r(9417);let jt=(()=>{class n{constructor(o,i,e){this.fb=o,this.router=i,this.vehiculosService=e,this.form=this.fb.group({movil:["",d.k0.required],patente:["",d.k0.required],marca:["",d.k0.required],modelo:["",d.k0.required],anio:["",d.k0.required],activo:[!0],documentacion:null})}onSubmit(){m().fire({title:"\xbfEst\xe1s seguro?",text:"Los datos no se pueden modificar una vez guardados.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, guardar!"}).then(o=>{o.isConfirmed&&(this.form.valid?this.vehiculosService.crearVehiculo(this.form.value).subscribe(i=>{this.router.navigate(["/mantenedores/vehiculos"])}):m().fire("Error","Por favor, complete todos los campos requeridos.","error"))})}onCancel(){this.router.navigate(["/mantenedores/vehiculos"])}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(d.ok),t.rXU(g.Ix),t.rXU(j.c))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-crear-vehiculo"]],standalone:!0,features:[t.aNF],decls:45,vars:1,consts:[[1,"cardWithShadow"],[1,"p-24"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-sm-4","d-flex","align-items-center"],[1,"mat-subtitle-2","f-w-600","d-block","m-b-16"],[1,"col-sm-8"],["appearance","outline",1,"w-100"],["matInput","","type","text","placeholder","Movil","formControlName","movil"],["matInput","","type","text","placeholder","Patente","formControlName","patente","maxlength","6","title","Debe contener exactamente 6 d\xedgitos con puntos divisores"],["matInput","","type","text","placeholder","Marca","formControlName","marca"],["matInput","","type","text","placeholder","Modelo","formControlName","modelo"],["matInput","","type","text","placeholder","A\xf1o","formControlName","anio"],[1,"row","justify-content-end"],["mat-flat-button","","color","primary","type","submit"],["mat-flat-button","","type","button",3,"click"]],template:function(i,e){1&i&&(t.j41(0,"mat-card",0)(1,"mat-card-content",1)(2,"mat-card-content")(3,"form",2),t.bIt("ngSubmit",function(){return e.onSubmit()}),t.j41(4,"div",3)(5,"div",4)(6,"mat-label",5),t.EFF(7,"Movil"),t.k0s()(),t.j41(8,"div",6)(9,"mat-form-field",7),t.nrm(10,"input",8),t.k0s()()(),t.j41(11,"div",3)(12,"div",4)(13,"mat-label",5),t.EFF(14,"Patente"),t.k0s()(),t.j41(15,"div",6)(16,"mat-form-field",7),t.nrm(17,"input",9),t.k0s()()(),t.j41(18,"div",3)(19,"div",4)(20,"mat-label",5),t.EFF(21,"Marca"),t.k0s()(),t.j41(22,"div",6)(23,"mat-form-field",7),t.nrm(24,"input",10),t.k0s()()(),t.j41(25,"div",3)(26,"div",4)(27,"mat-label",5),t.EFF(28,"Modelo"),t.k0s()(),t.j41(29,"div",6)(30,"mat-form-field",7),t.nrm(31,"input",11),t.k0s()()(),t.j41(32,"div",3)(33,"div",4)(34,"mat-label",5),t.EFF(35,"A\xf1o"),t.k0s()(),t.j41(36,"div",6)(37,"mat-form-field",7),t.nrm(38,"input",12),t.k0s()()(),t.j41(39,"div",13)(40,"div",6)(41,"button",14),t.EFF(42,"Guardar"),t.k0s(),t.j41(43,"button",15),t.bIt("click",function(){return e.onCancel()}),t.EFF(44,"Volver"),t.k0s()()()()()()()),2&i&&(t.R7$(3),t.Y8G("formGroup",e.form))},dependencies:[f.RG,f.rl,f.nJ,E.fS,E.fg,d.X1,d.qT,d.me,d.BC,d.cb,d.tU,d.j4,d.JD,x.hM,_.Hl,_.$z,p.Hu,p.RN,p.m2]})}return n})();var S=r(6600),w=r(2798),kt=r(5602);const Et=(n,a)=>a.id;function Vt(n,a){if(1&n&&(t.j41(0,"mat-option",10),t.EFF(1),t.k0s()),2&n){const o=a.$implicit;t.Y8G("value",o.id),t.R7$(),t.JRh(o.name)}}function Tt(n,a){1&n&&(t.j41(0,"mat-error"),t.EFF(1,"Debe seleccionar un t\xe9cnico"),t.k0s())}let Dt=(()=>{class n{constructor(o,i,e,c,s){this.vehiculosService=o,this.route=i,this.router=e,this.usersService=c,this.fb=s,this.vehiculo={},this.users=[],this.tecnicoForm=this.fb.group({user:["",d.k0.required]}),this.route.params.subscribe(l=>{l.id&&this.vehiculosService.getVehiculoById(l.id).subscribe(u=>{this.vehiculo=u})})}ngOnInit(){this.getUsers()}formatPatente(o){return o?o.replace(/(.{2})(?=.)/g,'$1<span class="dot">\xb7</span>'):""}selectUser(o){this.user=o.value,console.log(this.user)}getUsers(){this.usersService.getAllTecnicos().subscribe(o=>{this.users=o,console.log(this.users)})}goBack(){this.router.navigate(["/mantenedores/vehiculos"])}asignarTecnico(){this.tecnicoForm.invalid||m().fire({title:"\xbfEst\xe1s seguro?",text:"\xbfDeseas asignar el t\xe9cnico al veh\xedculo?",icon:"warning",showCancelButton:!0,confirmButtonText:"Asignar",cancelButtonText:"Cancelar"}).then(o=>{o.isConfirmed&&this.vehiculosService.updateUserVehiculo(this.vehiculo.id,this.tecnicoForm.get("user")?.value).subscribe(()=>{this.router.navigate(["/mantenedores/vehiculos"])})})}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(j.c),t.rXU(g.nX),t.rXU(g.Ix),t.rXU(kt.g),t.rXU(d.ok))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-asignar-tecnico"]],standalone:!0,features:[t.aNF],decls:28,vars:4,consts:[[1,"cardWithShadow"],[1,"p-24"],[3,"formGroup"],[1,"row"],[1,"col-sm-4","d-flex","align-items-center","justify-content-end"],[1,"mat-subtitle-2","f-w-600","d-block","m-b-24"],[1,"col-sm-8"],[1,"patente",3,"innerHTML"],["appearance","outline",1,"w-100"],["formControlName","user","placeholder","T\xe9cnico",3,"selectionChange"],[3,"value"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-raised-button","","type","button",3,"click"]],template:function(i,e){if(1&i&&(t.j41(0,"mat-card",0)(1,"mat-card-content",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"mat-label",5),t.EFF(6,"Vehiculo patente:"),t.k0s()(),t.j41(7,"div",6),t.nrm(8,"span",7),t.k0s()(),t.j41(9,"div",3)(10,"div",4)(11,"mat-label",5),t.EFF(12,"Asignar a:"),t.k0s()(),t.j41(13,"div",6)(14,"mat-form-field",8)(15,"mat-select",9),t.bIt("selectionChange",function(s){return e.selectUser(s)}),t.Z7z(16,Vt,2,2,"mat-option",10,Et),t.k0s(),t.DNE(18,Tt,2,0,"mat-error"),t.k0s()()(),t.j41(19,"div",3)(20,"div",4)(21,"button",11),t.bIt("click",function(){return e.asignarTecnico()}),t.EFF(22,"Asignar"),t.k0s()(),t.j41(23,"div",4)(24,"button",12),t.bIt("click",function(){return e.goBack()}),t.EFF(25,"Volver"),t.j41(26,"mat-icon"),t.EFF(27,"arrow_back"),t.k0s()()()()()()()),2&i){let c;t.R7$(2),t.Y8G("formGroup",e.tecnicoForm),t.R7$(6),t.Y8G("innerHTML",e.formatPatente(e.vehiculo.patente),t.npT),t.R7$(8),t.Dyx(e.users),t.R7$(2),t.vxM(null!=(c=e.tecnicoForm.get("user"))&&c.touched&&null!=(c=e.tecnicoForm.get("user"))&&c.hasError("required")?18:-1),t.R7$(3),t.Y8G("disabled",e.tecnicoForm.invalid)}},dependencies:[C.MD,p.Hu,p.RN,p.m2,w.Ve,f.rl,f.nJ,f.TL,w.VO,S.wT,S.Sy,_.Hl,_.$z,v.m_,v.An,d.X1,d.qT,d.BC,d.cb,d.j4,d.JD],styles:[".patente[_ngcontent-%COMP%]{background-color:#fff;font-size:1.5em;font-weight:700;color:#000;border:1px solid #000;padding:5px;border-radius:5px}.dot[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;line-height:0}"]})}return n})();var I=r(6471);function It(n,a){1&n&&(t.j41(0,"span",14)(1,"mat-icon",20),t.EFF(2,"warning"),t.k0s(),t.EFF(3," Sin t\xe9cnico asignado "),t.k0s())}function xt(n,a){if(1&n){const o=t.RV6();t.j41(0,"div",15)(1,"span"),t.EFF(2),t.k0s(),t.j41(3,"button",21),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.quitarTecnico())}),t.j41(4,"mat-icon"),t.EFF(5,"person_remove"),t.k0s(),t.EFF(6," Quitar t\xe9cnico "),t.k0s()()}if(2&n){const o=t.XpG();t.R7$(2),t.SpI("ID: ",o.vehiculo.user_id,"")}}function yt(n,a){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&n){const o=t.XpG();t.R7$(),t.JRh(o.vehiculo.documentacion)}}function Mt(n,a){1&n&&(t.j41(0,"span",16),t.EFF(1,"Sin documentaci\xf3n"),t.k0s())}const Nt=[{path:"",component:it,data:{title:"Vehiculos"}},{path:"documentacion/:id",component:Ct,data:{title:"Documentaci\xf3n"}},{path:"crear-vehiculo",component:jt,data:{title:"Crear Vehiculo"}},{path:"asignar-tecnico/:id",component:Dt,data:{title:"Asignar Tecnico"}},{path:"ver-vehiculo/:id",component:(()=>{class n{constructor(o,i,e){this.vehiculosService=o,this.route=i,this.router=e,this.vehiculo={},this.route.params.subscribe(c=>{c.id&&this.vehiculosService.getVehiculoById(c.id).subscribe(s=>{this.vehiculo=s})})}formatPatente(o){return o.replace(/(.{2})(?=.)/g,'$1<span class="dot">\xb7</span>')}ngOnInit(){}quitarTecnico(){m().fire({title:"\xbfEst\xe1s seguro?",text:"\xbfDeseas quitar el t\xe9cnico asignado al veh\xedculo?",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, quitar",cancelButtonText:"Cancelar"}).then(o=>{o.isConfirmed&&this.vehiculosService.removeUserVehiculo(this.vehiculo.id).subscribe({next:()=>{this.vehiculo.user_id=null,m().fire("\xc9xito","T\xe9cnico removido exitosamente","success")},error:i=>{console.error("Error al quitar t\xe9cnico:",i),m().fire("Error","No se pudo quitar el t\xe9cnico","error")}})})}volver(){this.router.navigate(["/mantenedores/vehiculos"])}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(j.c),t.rXU(g.nX),t.rXU(g.Ix))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-ver-vehiculo"]],standalone:!0,features:[t.aNF],decls:61,vars:10,consts:[["chipGrid",""],[1,"cardWithShadow"],[1,"p-24"],[1,"d-flex","align-items-center"],[1,"me-2"],[1,"mt-4"],[1,"row"],[1,"col-md-6"],[1,"info-group","mb-3"],[1,"info-label"],[1,"info-item"],[1,"patente",3,"innerHTML"],["selected","",3,"color"],[2,"display","none",3,"matChipInputFor"],[1,"text-warning"],[1,"d-flex","align-items-center","gap-2"],[1,"text-muted"],[1,"my-3"],[1,"d-flex","justify-content-end"],["mat-flat-button","","color","primary",3,"click"],[1,"align-middle","me-1"],["mat-raised-button","","color","warn","type","button",3,"click"]],template:function(i,e){if(1&i){const c=t.RV6();t.j41(0,"mat-card",1)(1,"mat-card-content",2)(2,"mat-card-header")(3,"mat-card-title",3)(4,"mat-icon",4),t.EFF(5,"directions_car"),t.k0s(),t.EFF(6," Detalles del Veh\xedculo "),t.k0s()(),t.j41(7,"mat-card-content",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h3",9),t.EFF(12,"Informaci\xf3n General"),t.k0s(),t.j41(13,"div",10)(14,"strong"),t.EFF(15,"M\xf3vil:"),t.k0s(),t.EFF(16),t.k0s(),t.j41(17,"div",10)(18,"strong"),t.EFF(19,"Patente:"),t.k0s(),t.nrm(20,"span",11),t.k0s(),t.j41(21,"div",10)(22,"strong"),t.EFF(23,"Marca:"),t.k0s(),t.EFF(24),t.k0s(),t.j41(25,"div",10)(26,"strong"),t.EFF(27,"Modelo:"),t.k0s(),t.EFF(28),t.k0s(),t.j41(29,"div",10)(30,"strong"),t.EFF(31,"A\xf1o:"),t.k0s(),t.EFF(32),t.k0s()()(),t.j41(33,"div",7)(34,"div",8)(35,"h3",9),t.EFF(36,"Estado y Asignaci\xf3n"),t.k0s(),t.j41(37,"div",10)(38,"strong"),t.EFF(39,"Estado:"),t.k0s(),t.j41(40,"mat-chip-grid",null,0)(42,"mat-chip-row",12),t.EFF(43),t.k0s()(),t.nrm(44,"input",13),t.k0s(),t.j41(45,"div",10)(46,"strong"),t.EFF(47,"T\xe9cnico Asignado:"),t.k0s(),t.DNE(48,It,4,0,"span",14)(49,xt,7,1,"div",15),t.k0s(),t.j41(50,"div",10)(51,"strong"),t.EFF(52,"Documentaci\xf3n:"),t.k0s(),t.DNE(53,yt,2,1,"span")(54,Mt,2,0,"span",16),t.k0s()()()()(),t.nrm(55,"mat-divider",17),t.j41(56,"mat-card-actions",18)(57,"button",19),t.bIt("click",function(){return t.eBV(c),t.Njj(e.volver())}),t.j41(58,"mat-icon"),t.EFF(59,"arrow_back"),t.k0s(),t.EFF(60," Volver "),t.k0s()()()()}if(2&i){const c=t.sdS(41);t.R7$(16),t.SpI(" ",e.vehiculo.movil," "),t.R7$(4),t.Y8G("innerHTML",e.formatPatente(e.vehiculo.patente),t.npT),t.R7$(4),t.SpI(" ",e.vehiculo.marca," "),t.R7$(4),t.SpI(" ",e.vehiculo.modelo," "),t.R7$(4),t.SpI(" ",e.vehiculo.anio," "),t.R7$(10),t.Y8G("color",e.vehiculo.activo?"primary":"warn"),t.R7$(),t.SpI(" ",e.vehiculo.activo?"Activo":"Inactivo"," "),t.R7$(),t.Y8G("matChipInputFor",c),t.R7$(4),t.vxM(null===e.vehiculo.user_id||0===e.vehiculo.user_id?48:49),t.R7$(5),t.vxM(e.vehiculo.documentacion?53:54)}},dependencies:[C.MD,p.Hu,p.RN,p.YY,p.m2,p.MM,p.dh,D.w,D.q,v.m_,v.An,I.YN,I.HW,I.D7,I.jH,_.Hl,_.$z],styles:[".vehicle-card[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto}.info-group[_ngcontent-%COMP%]{padding:1rem;background-color:#f8f9fa;border-radius:4px}.info-label[_ngcontent-%COMP%]{font-size:1.1rem;color:#495057;margin-bottom:1rem}.info-item[_ngcontent-%COMP%]{margin-bottom:.5rem;display:flex;align-items:center;gap:.5rem}.text-warning[_ngcontent-%COMP%]{color:#ffc107}.text-muted[_ngcontent-%COMP%]{color:#6c757d}.patente[_ngcontent-%COMP%]{background-color:#fff;font-size:1.5em;font-weight:700;color:#000;border:1px solid #000;padding:5px;border-radius:5px}.dot[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;line-height:0}"]})}return n})(),data:{title:"Ver Vehiculo"}}]}}]);