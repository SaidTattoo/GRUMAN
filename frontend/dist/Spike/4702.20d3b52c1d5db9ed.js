"use strict";(self.webpackChunkSpike=self.webpackChunkSpike||[]).push([[4702],{4702:(B,E,c)=>{c.r(E),c.d(E,{ESPECIALIDADES_ROUTES:()=>T});var p=c(8834),d=c(5596),l=c(3719),u=c(9213),f=c(9631),s=c(9159),C=c(8032),b=c.n(C),e=c(3953),g=c(2168),h=c(8887);function _(a,m){1&a&&(e.j41(0,"mat-header-cell"),e.EFF(1," Nombre "),e.k0s())}function F(a,m){if(1&a&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&a){const t=m.$implicit;e.R7$(),e.SpI(" ",t.nombre," ")}}function x(a,m){1&a&&(e.j41(0,"mat-header-cell"),e.EFF(1," Acciones "),e.k0s())}function v(a,m){if(1&a){const t=e.RV6();e.j41(0,"mat-cell")(1,"button",16),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.editarEspecialidad(i))}),e.j41(2,"mat-icon"),e.EFF(3,"edit"),e.k0s()(),e.j41(4,"button",17),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.eliminarEspecialidad(i))}),e.j41(5,"mat-icon"),e.EFF(6,"delete"),e.k0s()()()}}function j(a,m){1&a&&e.nrm(0,"mat-header-row")}function k(a,m){1&a&&e.nrm(0,"mat-row")}function S(a,m){if(1&a&&(e.j41(0,"tr",18)(1,"td",19)(2,"div",20)(3,"mat-icon",21),e.EFF(4,"inbox"),e.k0s(),e.j41(5,"p",22),e.EFF(6,"No hay especialidades registradas"),e.k0s()()()()),2&a){const t=e.XpG();e.R7$(),e.BMQ("colspan",t.displayedColumns.length)}}let y=(()=>{class a{constructor(t,n){this.especialidadesService=t,this.router=n,this.displayedColumns=["nombre","acciones"],this.dataSource=new s.I6([])}ngOnInit(){this.loadEspecialidades()}loadEspecialidades(){this.especialidadesService.findAll().subscribe(t=>{this.dataSource.data=t})}editarEspecialidad(t){this.router.navigate(["/mantenedores/especialidades/editar",t.id])}eliminarEspecialidad(t){console.log(t),b().fire({title:"\xbfEst\xe1s seguro?",text:"\xbfDeseas eliminar esta especialidad?",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"}).then(n=>{n.isConfirmed&&this.especialidadesService.delete(t.id).subscribe(i=>{this.loadEspecialidades()})})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}crearEspecialidad(){this.router.navigate(["/mantenedores/especialidades/crear"])}getEspecialidadesNombres(t){return t?.map(n=>n.nombre).join(", ")||""}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(g.c),e.rXU(h.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-especialidades"]],standalone:!0,features:[e.aNF],decls:22,vars:3,consts:[["input",""],[1,"cardWithShadow"],[1,"p-24"],[1,"actions-container","mb-3"],["mat-flat-button","","color","primary",3,"click"],["appearance","outline"],["matInput","","placeholder","Ej. Electricista",3,"keyup"],["matSuffix",""],["matSort","",3,"dataSource"],["matColumnDef","nombre"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","acciones"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],[1,"mat-row"],[1,"mat-cell","no-data-cell"],[1,"no-data-container"],[1,"no-data-icon"],[1,"no-data-text"]],template:function(n,i){if(1&n){const r=e.RV6();e.j41(0,"mat-card",1)(1,"mat-card-content",2)(2,"div",3)(3,"button",4),e.bIt("click",function(){return e.eBV(r),e.Njj(i.crearEspecialidad())}),e.EFF(4," Crear Especialidad "),e.k0s(),e.j41(5,"mat-form-field",5)(6,"mat-label"),e.EFF(7,"Buscar especialidad"),e.k0s(),e.j41(8,"input",6,0),e.bIt("keyup",function(N){return e.eBV(r),e.Njj(i.applyFilter(N))}),e.k0s(),e.j41(10,"mat-icon",7),e.EFF(11,"search"),e.k0s()()(),e.j41(12,"mat-table",8),e.qex(13,9),e.DNE(14,_,2,0,"mat-header-cell",10)(15,F,2,1,"mat-cell",11),e.bVm(),e.qex(16,12),e.DNE(17,x,2,0,"mat-header-cell",10)(18,v,7,0,"mat-cell",11),e.bVm(),e.DNE(19,j,1,0,"mat-header-row",13)(20,k,1,0,"mat-row",14)(21,S,7,1,"tr",15),e.k0s()()()}2&n&&(e.R7$(12),e.Y8G("dataSource",i.dataSource),e.R7$(7),e.Y8G("matHeaderRowDef",i.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",i.displayedColumns))},dependencies:[s.tP,s.Zl,s.tL,s.ji,s.cC,s.YV,s.iL,s.KS,s.$R,s.YZ,s.NB,s.ky,d.Hu,d.RN,d.m2,u.m_,u.An,p.Hl,p.$z,p.iY,f.fS,f.fg,l.rl,l.nJ,l.yw,l.RG],styles:[".no-data-cell[_ngcontent-%COMP%]{padding:2rem!important;height:300px!important}.no-data-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;text-align:center;background-color:#f5f5f5;border-radius:8px;margin:1rem auto;max-width:400px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.no-data-container[_ngcontent-%COMP%]   .no-data-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#666;margin-bottom:1rem}.no-data-container[_ngcontent-%COMP%]   .no-data-text[_ngcontent-%COMP%]{font-size:1.1rem;color:#666;margin:0}.mat-card-content[_ngcontent-%COMP%]{position:relative;min-height:400px}.search-container[_ngcontent-%COMP%]{margin-bottom:20px}.search-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%;max-width:500px}.mat-icon[_ngcontent-%COMP%]{color:#0000008a}.mat-form-field.mat-focused[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:primary}.actions-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:16px;margin-bottom:20px}.actions-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:300px}.actions-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:48px}.actions-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:8px}"]})}return a})();var M=c(177),o=c(9417);function O(a,m){1&a&&(e.j41(0,"mat-error"),e.EFF(1,"El nombre es requerido"),e.k0s())}let w=(()=>{class a{constructor(t,n,i,r){this.formBuilder=t,this.especialidadService=n,this.router=i,this.route=r,this.submitted=!1,this.especialidadForm=this.formBuilder.group({nombre:["",o.k0.required]})}ngOnInit(){this.id=Number(this.route.snapshot.paramMap.get("id")),this.cargarEspecialidad()}cargarEspecialidad(){this.especialidadService.findById(this.id).subscribe({next:t=>{this.especialidadForm.patchValue({nombre:t.nombre,descripcion:t.descripcion})},error:t=>{console.error("Error al cargar la especialidad:",t)}})}get f(){return this.especialidadForm.controls}onSubmit(){if(this.submitted=!0,this.especialidadForm.invalid)return;const t={id:this.id,...this.especialidadForm.value};b().fire({title:"\xbfEst\xe1s seguro?",text:"\xbfQuieres actualizar la especialidad?",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, actualizar",cancelButtonText:"Cancelar"}).then(n=>{n.isConfirmed&&this.especialidadService.update(this.id,t).subscribe({next:()=>{this.router.navigate(["/mantenedores/especialidades"])},error:i=>{console.error("Error al actualizar la especialidad:",i)}})})}volver(){this.router.navigate(["/mantenedores/especialidades"])}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(o.ok),e.rXU(g.c),e.rXU(h.Ix),e.rXU(h.nX))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-editar-especialidad"]],standalone:!0,features:[e.aNF],decls:20,vars:3,consts:[[1,"cardWithShadow"],[1,"p-24"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-sm-4","d-flex","align-items-center","justify-content-end"],[1,"mat-subtitle-2","f-w-600","d-block","m-b-24"],[1,"col-sm-8"],["appearance","outline",1,"w-100"],["formControlName","nombre","matInput","","placeholder","Ej: Electricista"],[1,"button-container"],["mat-raised-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(n,i){if(1&n&&(e.j41(0,"mat-card",0)(1,"mat-card-content",1)(2,"form",2),e.bIt("ngSubmit",function(){return i.onSubmit()}),e.j41(3,"div",3)(4,"div",4)(5,"mat-label",5),e.EFF(6,"Nombre"),e.k0s()(),e.j41(7,"div",6)(8,"mat-form-field",7),e.nrm(9,"input",8),e.DNE(10,O,2,0,"mat-error"),e.k0s()()(),e.j41(11,"div",9)(12,"button",10),e.bIt("click",function(){return i.volver()}),e.j41(13,"mat-icon"),e.EFF(14,"arrow_back"),e.k0s(),e.EFF(15," Volver "),e.k0s(),e.j41(16,"button",11)(17,"mat-icon"),e.EFF(18,"save"),e.k0s(),e.EFF(19," Guardar "),e.k0s()()()()()),2&n){let r;e.R7$(2),e.Y8G("formGroup",i.especialidadForm),e.R7$(8),e.vxM(null!=(r=i.especialidadForm.get("nombre"))&&r.hasError("required")?10:-1),e.R7$(6),e.Y8G("disabled",i.especialidadForm.invalid)}},dependencies:[M.MD,o.X1,o.qT,o.me,o.BC,o.cb,o.j4,o.JD,d.Hu,d.RN,d.m2,l.RG,l.rl,l.nJ,l.TL,f.fS,f.fg,p.Hl,p.$z,u.m_,u.An],styles:[".form-container[_ngcontent-%COMP%]{margin:20px 0;max-width:500px}.button-container[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:flex-end;margin-top:20px}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:8px}h2[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}"]})}return a})();function P(a,m){1&a&&(e.j41(0,"mat-error"),e.EFF(1,"El nombre es requerido"),e.k0s())}const T=[{path:"",component:y,data:{title:"Especialidades",breadcrumb:"Especialidades"}},{path:"crear",component:(()=>{class a{constructor(t,n,i){this.fb=t,this.especialidadesService=n,this.router=i,this.especialidadForm=this.fb.group({nombre:["",[o.k0.required,o.k0.minLength(1)]]})}onSubmit(){this.especialidadForm.invalid||b().fire({title:"\xbfEst\xe1s seguro?",text:"\xbfDeseas crear esta especialidad?",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, crear",cancelButtonText:"Cancelar"}).then(t=>{t.isConfirmed&&this.especialidadesService.create(this.especialidadForm.value).subscribe({next:()=>{b().fire({title:"\xc9xito",text:"Especialidad creada correctamente",icon:"success"}).then(()=>{this.router.navigate(["/mantenedores/especialidades"])})},error:n=>{console.error("Error al crear especialidad:",n),b().fire({title:"Error",text:"No se pudo crear la especialidad",icon:"error"})}})})}volver(){this.router.navigate(["/mantenedores/especialidades"])}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(o.ok),e.rXU(g.c),e.rXU(h.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-crear-especialidad"]],standalone:!0,features:[e.aNF],decls:20,vars:3,consts:[[1,"cardWithShadow"],[1,"p-24"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-sm-4","d-flex","align-items-center","justify-content-end"],[1,"mat-subtitle-2","f-w-600","d-block","m-b-24"],[1,"col-sm-8"],["appearance","outline",1,"w-100"],["formControlName","nombre","matInput","","placeholder","Ej: Electricista"],[1,"button-container"],["mat-raised-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(n,i){if(1&n&&(e.j41(0,"mat-card",0)(1,"mat-card-content",1)(2,"form",2),e.bIt("ngSubmit",function(){return i.onSubmit()}),e.j41(3,"div",3)(4,"div",4)(5,"mat-label",5),e.EFF(6,"Nombre"),e.k0s()(),e.j41(7,"div",6)(8,"mat-form-field",7),e.nrm(9,"input",8),e.DNE(10,P,2,0,"mat-error"),e.k0s()()(),e.j41(11,"div",9)(12,"button",10),e.bIt("click",function(){return i.volver()}),e.j41(13,"mat-icon"),e.EFF(14,"arrow_back"),e.k0s(),e.EFF(15," Volver "),e.k0s(),e.j41(16,"button",11)(17,"mat-icon"),e.EFF(18,"save"),e.k0s(),e.EFF(19," Guardar "),e.k0s()()()()()),2&n){let r;e.R7$(2),e.Y8G("formGroup",i.especialidadForm),e.R7$(8),e.vxM(null!=(r=i.especialidadForm.get("nombre"))&&r.hasError("required")?10:-1),e.R7$(6),e.Y8G("disabled",i.especialidadForm.invalid)}},dependencies:[d.Hu,d.RN,d.m2,l.RG,l.rl,l.nJ,l.TL,f.fS,f.fg,p.Hl,p.$z,u.m_,u.An,o.X1,o.qT,o.me,o.BC,o.cb,o.j4,o.JD],styles:[".form-container[_ngcontent-%COMP%]{margin:20px 0;max-width:500px}.button-container[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:flex-end;margin-top:20px}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:8px}h2[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}"]})}return a})(),data:{title:"Crear Especialidad",breadcrumb:"Crear Especialidad"}},{path:"editar/:id",component:w,data:{title:"Editar Especialidad",breadcrumb:"Editar Especialidad"}}]}}]);