"use strict";(self.webpackChunkSpike=self.webpackChunkSpike||[]).push([[3615],{3615:(G,f,a)=>{a.r(f),a.d(f,{TIPO_ACTIVO_ROUTES:()=>I});var b=a(177),l=a(9417),T=a(6695),g=a(2042),c=a(9159),A=a(9164),S=a(8032),v=a.n(S),d=a(8834),s=a(5596),p=a(3719),u=a(9631),t=a(3953),C=a(4006),h=a(1115);function j(o,m){1&o&&(t.j41(0,"mat-error"),t.EFF(1,"El nombre es requerido"),t.k0s())}let F=(()=>{class o{constructor(n,e,i){this.fb=n,this.dialogRef=e,this.tiposActivoService=i,this.form=this.fb.group({name:["",l.k0.required]})}onSubmit(){this.form.valid&&this.tiposActivoService.crearTipoActivo(this.form.value).subscribe(()=>{this.dialogRef.close(!0)})}onCancel(){this.dialogRef.close(!1)}static#t=this.\u0275fac=function(e){return new(e||o)(t.rXU(l.ok),t.rXU(C.CP),t.rXU(h.u))};static#o=this.\u0275cmp=t.VBU({type:o,selectors:[["app-crear-tipo-activo"]],standalone:!0,features:[t.aNF],decls:20,vars:2,consts:[[1,"m-b-0"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-sm-4","d-flex","align-items-center"],[1,"mat-subtitle-2","f-w-600","d-block","m-b-16"],[1,"col-sm-8"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Ingrese el nombre","formControlName","name"],[1,"row","justify-content-end"],["mat-button","","type","button",3,"click"],["mat-flat-button","","color","primary","type","submit"]],template:function(e,i){if(1&e&&(t.j41(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title",0),t.EFF(3,"Crear Tipo de Activo"),t.k0s()(),t.j41(4,"mat-card-content")(5,"form",1),t.bIt("ngSubmit",function(){return i.onSubmit()}),t.j41(6,"div",2)(7,"div",3)(8,"mat-label",4),t.EFF(9,"Nombre"),t.k0s()(),t.j41(10,"div",5)(11,"mat-form-field",6),t.nrm(12,"input",7),t.DNE(13,j,2,0,"mat-error"),t.k0s()()(),t.j41(14,"div",8)(15,"div",5)(16,"button",9),t.bIt("click",function(){return i.onCancel()}),t.EFF(17,"Cancelar"),t.k0s(),t.j41(18,"button",10),t.EFF(19,"Guardar"),t.k0s()()()()()()),2&e){let r;t.R7$(5),t.Y8G("formGroup",i.form),t.R7$(8),t.vxM(null!=(r=i.form.get("name"))&&r.invalid?13:-1)}},dependencies:[s.Hu,s.RN,s.m2,s.MM,s.dh,p.RG,p.rl,p.nJ,p.TL,u.fS,u.fg,d.Hl,d.$z,l.X1,l.qT,l.me,l.BC,l.cb,l.j4,l.JD],styles:[".mat-card[_ngcontent-%COMP%]{margin:16px;border-radius:8px}.mat-card-header[_ngcontent-%COMP%]{background-color:#f5f5f5;border-bottom:1px solid #e0e0e0}.mat-card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.mat-card-content[_ngcontent-%COMP%]{padding:16px}.mat-form-field[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{margin-bottom:16px}.row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:16px}"]})}return o})();var y=a(9213);function R(o,m){1&o&&(t.j41(0,"th",16),t.EFF(1," Nombre "),t.k0s())}function k(o,m){if(1&o&&(t.j41(0,"td",17),t.EFF(1),t.k0s()),2&o){const n=m.$implicit;t.R7$(),t.SpI(" ",n.name," ")}}function E(o,m){1&o&&(t.j41(0,"th",16),t.EFF(1," Acciones "),t.k0s())}function w(o,m){if(1&o){const n=t.RV6();t.j41(0,"td",17)(1,"button",18),t.bIt("click",function(){const i=t.eBV(n).$implicit,r=t.XpG();return t.Njj(r.editar(i))}),t.j41(2,"mat-icon"),t.EFF(3,"edit"),t.k0s()(),t.j41(4,"button",19),t.bIt("click",function(){const i=t.eBV(n).$implicit,r=t.XpG();return t.Njj(r.eliminar(i))}),t.j41(5,"mat-icon"),t.EFF(6,"delete"),t.k0s()()()}}function N(o,m){1&o&&t.nrm(0,"tr",20)}function B(o,m){1&o&&t.nrm(0,"tr",21)}const I=[{path:"",component:(()=>{class o{constructor(n,e){this.tiposActivoService=n,this.dialog=e,this.displayedColumns=["nombre","acciones"],this.dataSource=new c.I6}ngOnInit(){this.tiposActivoService.getTiposActivo().subscribe(n=>{this.dataSource.data=n,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(n){this.dataSource.filter=n.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}editar(n){}eliminar(n){v().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminarlo!"}).then(e=>{e.isConfirmed&&this.tiposActivoService.eliminarTipoActivo(n.id).subscribe(()=>{this.dataSource.data=this.dataSource.data.filter(i=>i.id!==n.id),v().fire("Eliminado!","El tipo de activo ha sido eliminado.","success")})})}openCrearTipoActivoModal(){this.dialog.open(F,{}).afterClosed().subscribe(e=>{e&&this.tiposActivoService.getTiposActivo().subscribe(i=>{this.dataSource.data=i})})}static#t=this.\u0275fac=function(e){return new(e||o)(t.rXU(h.u),t.rXU(C.bZ))};static#o=this.\u0275cmp=t.VBU({type:o,selectors:[["app-tipo-activo"]],viewQuery:function(e,i){if(1&e&&(t.GBs(T.iy,5),t.GBs(g.B4,5)),2&e){let r;t.mGM(r=t.lsd())&&(i.paginator=r.first),t.mGM(r=t.lsd())&&(i.sort=r.first)}},standalone:!0,features:[t.aNF],decls:20,vars:3,consts:[["input",""],[1,"cardWithShadow"],[1,"p-24"],[1,"row","justify-content-between","m-b-8"],[1,"col-sm-4","col-lg-3"],["mat-flat-button","","color","primary",3,"click"],["appearance","outline",1,"w-100","hide-hint"],["matInput","","placeholder","Buscar",3,"keyup"],[1,"table-responsive","m-t-30"],["mat-table","",1,"w-100","mat-elevation-z8",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14 p-l-0",4,"matHeaderCellDef"],["mat-cell","","class","p-l-0",4,"matCellDef"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-14","p-l-0"],["mat-cell","",1,"p-l-0"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){if(1&e){const r=t.RV6();t.j41(0,"mat-card",1)(1,"mat-card-content",2)(2,"div",3)(3,"div",4)(4,"button",5),t.bIt("click",function(){return t.eBV(r),t.Njj(i.openCrearTipoActivoModal())}),t.EFF(5,"Nuevo Tipo de Activo"),t.k0s()(),t.j41(6,"div",4)(7,"mat-form-field",6)(8,"input",7,0),t.bIt("keyup",function(D){return t.eBV(r),t.Njj(i.applyFilter(D))}),t.k0s()()()(),t.j41(10,"div",8)(11,"table",9),t.qex(12,10),t.DNE(13,R,2,0,"th",11)(14,k,2,1,"td",12),t.bVm(),t.qex(15,13),t.DNE(16,E,2,0,"th",11)(17,w,7,0,"td",12),t.bVm(),t.DNE(18,N,1,0,"tr",14)(19,B,1,0,"tr",15),t.k0s()()()()}2&e&&(t.R7$(11),t.Y8G("dataSource",i.dataSource),t.R7$(7),t.Y8G("matHeaderRowDef",i.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",i.displayedColumns))},dependencies:[b.MD,A.G,p.rl,u.fg,s.RN,s.m2,d.$z,d.iY,y.An,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,l.X1]})}return o})(),data:{title:"Tipo Activo"}}]}}]);