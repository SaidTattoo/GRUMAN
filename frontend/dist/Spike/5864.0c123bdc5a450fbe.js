"use strict";(self.webpackChunkSpike=self.webpackChunkSpike||[]).push([[5864],{5864:(Gi,b,s)=>{s.r(b),s.d(b,{SERVICIOS_REALIZADOS_ROUTES:()=>Vi});var $=s(9847),_=s(177),l=s(9417),g=s(8834),p=s(5596),T=s(6600),v=s(5084),h=s(3719),D=s(9631),R=s(5951),x=s(2798),k=s(8887),F=s(9454),m=s(9159),z=s(4823),j=s(9213),C=s(2288),N=s(8032),d=s.n(N),i=s(3953),V=s(4683),y=s(1643),G=s(1146),M=s(1357),w=s(7291),O=s(3227),U=s(1787);const I=(e,t)=>t.id,Y=(e,t)=>t.mes;function A(e,t){if(1&e&&(i.j41(0,"mat-option",12),i.EFF(1),i.k0s()),2&e){const o=t.$implicit;i.Y8G("value",o.id),i.R7$(),i.SpI(" ",o.nombre," ")}}function P(e,t){if(1&e&&(i.j41(0,"mat-form-field",6)(1,"mat-label"),i.EFF(2,"Cliente"),i.k0s(),i.j41(3,"mat-select",24)(4,"mat-option"),i.EFF(5,"Seleccione un cliente"),i.k0s(),i.Z7z(6,A,2,2,"mat-option",12,I),i.k0s()()),2&e){const o=i.XpG();i.R7$(6),i.Dyx(o.clientes)}}function B(e,t){if(1&e&&(i.j41(0,"mat-option",12),i.EFF(1),i.k0s()),2&e){const o=t.$implicit;i.Y8G("value",o.id),i.R7$(),i.SpI(" ",o.nombre," ")}}function X(e,t){1&e&&(i.j41(0,"mat-error"),i.EFF(1," Debe seleccionar un tipo de servicio "),i.k0s())}function L(e,t){if(1&e&&(i.j41(0,"mat-option",12),i.EFF(1),i.k0s()),2&e){const o=t.$implicit;i.Y8G("value",o.id),i.R7$(),i.JRh(o.nombre)}}function q(e,t){1&e&&(i.j41(0,"mat-error"),i.EFF(1," Debe seleccionar un tipo de solicitud "),i.k0s())}function Z(e,t){if(1&e&&(i.j41(0,"div",14)(1,"div",15)(2,"mat-label",16),i.EFF(3,"D\xeda Inicio"),i.k0s()(),i.j41(4,"div",17)(5,"mat-form-field",6),i.nrm(6,"input",25)(7,"mat-datepicker-toggle",26)(8,"mat-datepicker",null,0),i.k0s()()()),2&e){const o=i.sdS(9);i.R7$(6),i.Y8G("matDatepicker",o),i.R7$(),i.Y8G("for",o)}}function H(e,t){1&e&&(i.j41(0,"mat-error"),i.EFF(1," La fecha de t\xe9rmino no puede ser menor que la de inicio. "),i.k0s())}function W(e,t){if(1&e&&(i.j41(0,"div",14)(1,"div",15)(2,"mat-label",16),i.EFF(3,"D\xeda T\xe9rmino"),i.k0s()(),i.j41(4,"div",17)(5,"mat-form-field",6),i.nrm(6,"input",27)(7,"mat-datepicker-toggle",26)(8,"mat-datepicker",null,1),i.DNE(10,H,2,0,"mat-error",10),i.k0s()()()),2&e){const o=i.sdS(9),n=i.XpG();i.R7$(6),i.Y8G("matDatepicker",o),i.R7$(),i.Y8G("for",o),i.R7$(3),i.Y8G("ngIf",n.programacionForm.hasError("fechaTerminoMayorQueInicio"))}}function J(e,t){if(1&e&&(i.j41(0,"mat-option",12),i.EFF(1),i.k0s()),2&e){const o=t.$implicit;i.Y8G("value",o.mes),i.R7$(),i.JRh(o.mes)}}function Q(e,t){if(1&e&&(i.j41(0,"div",14)(1,"div",28)(2,"div",29)(3,"mat-form-field",6)(4,"mat-label"),i.EFF(5,"Mes de Facturaci\xf3n"),i.k0s(),i.j41(6,"mat-select",30),i.Z7z(7,J,2,2,"mat-option",12,Y),i.k0s()()()()()),2&e){const o=i.XpG();i.R7$(7),i.Dyx(o.meses)}}function K(e,t){1&e&&(i.j41(0,"th",56),i.EFF(1," Numero de solicitud"),i.k0s())}function ii(e,t){if(1&e&&(i.j41(0,"td",57),i.EFF(1),i.k0s()),2&e){const o=t.$implicit;i.R7$(),i.SpI(" ",o.id," ")}}function oi(e,t){1&e&&(i.j41(0,"th",56),i.EFF(1," Fecha "),i.k0s())}function ei(e,t){if(1&e&&(i.j41(0,"td",57),i.EFF(1),i.k0s()),2&e){const o=t.$implicit,n=i.XpG(2);i.R7$(),i.SpI(" ",n.formatDate(o.fechaIngreso)," ")}}function ti(e,t){1&e&&(i.j41(0,"th",56),i.EFF(1," Tipo Servicio "),i.k0s())}function ai(e,t){if(1&e&&(i.j41(0,"td",57),i.EFF(1),i.k0s()),2&e){const o=t.$implicit;i.R7$(),i.SpI(" ",null==o.tipoServicio?null:o.tipoServicio.nombre," ")}}function ni(e,t){1&e&&(i.j41(0,"th",56),i.EFF(1,"Cliente"),i.k0s())}function si(e,t){if(1&e&&(i.j41(0,"td",57),i.EFF(1),i.k0s()),2&e){const o=t.$implicit;i.R7$(),i.SpI(" ",null==o.client?null:o.client.nombre," ")}}function ci(e,t){1&e&&(i.j41(0,"th",56),i.EFF(1,"Solicita"),i.k0s())}function ri(e,t){if(1&e&&(i.j41(0,"td",57),i.EFF(1),i.k0s()),2&e){const o=t.$implicit;i.R7$(),i.Lme(" ",null==o.generada_por?null:o.generada_por.name," ",(null==o.generada_por?null:o.generada_por.lastName)||""," ")}}function li(e,t){1&e&&(i.j41(0,"th",56),i.EFF(1,"Local"),i.k0s())}function mi(e,t){if(1&e&&(i.j41(0,"td",58),i.EFF(1),i.k0s()),2&e){const o=t.$implicit;i.Y8G("matTooltip",(null==o.local?null:o.local.direccion)||"Direcci\xf3n no disponible"),i.R7$(),i.SpI(" ",null==o.local?null:o.local.nombre_local," ")}}function di(e,t){1&e&&(i.j41(0,"th",56),i.EFF(1,"Fecha Visita"),i.k0s())}function pi(e,t){if(1&e&&(i.j41(0,"td",57),i.EFF(1),i.nI1(2,"date"),i.k0s()),2&e){const o=t.$implicit;i.R7$(),i.SpI(" ",o.fechaVisita?i.i5U(2,1,o.fechaVisita,"dd/MM/yyyy "):"Sin fecha"," ")}}function ui(e,t){1&e&&(i.j41(0,"th",56),i.EFF(1," T\xe9cnico "),i.k0s())}function fi(e,t){if(1&e&&(i.j41(0,"td",57),i.EFF(1),i.k0s()),2&e){const o=t.$implicit;i.R7$(),i.Lme(" ",null==o.tecnico_asignado?null:o.tecnico_asignado.name," ",null==o.tecnico_asignado?null:o.tecnico_asignado.lastName," ")}}function hi(e,t){1&e&&(i.j41(0,"th",56),i.EFF(1," Estado "),i.k0s())}function _i(e,t){if(1&e&&(i.j41(0,"td",57),i.EFF(1),i.k0s()),2&e){const o=t.$implicit;i.R7$(),i.SpI(" ",o.status," ")}}function vi(e,t){1&e&&(i.j41(0,"th",56),i.EFF(1," Observaciones "),i.k0s())}function Fi(e,t){if(1&e&&(i.j41(0,"td",57),i.EFF(1),i.k0s()),2&e){const o=t.$implicit;i.R7$(),i.SpI(" ",o.observaciones," ")}}function Ci(e,t){1&e&&(i.j41(0,"th",59),i.EFF(1,"Fecha Validaci\xf3n"),i.k0s())}function Si(e,t){if(1&e&&(i.j41(0,"td",57),i.EFF(1),i.nI1(2,"date"),i.k0s()),2&e){const o=t.$implicit;i.R7$(),i.SpI(" ",o.fecha_hora_validacion?i.i5U(2,1,o.fecha_hora_validacion,"dd/MM/yyyy HH:mm"):"Sin fecha"," ")}}function gi(e,t){1&e&&(i.j41(0,"th",56),i.EFF(1," Mes Facturaci\xf3n "),i.k0s())}function Ri(e,t){if(1&e&&(i.j41(0,"td",57),i.EFF(1),i.k0s()),2&e){const o=t.$implicit;i.R7$(),i.SpI(" ",o.facturacion.mes," ")}}function Ei(e,t){1&e&&(i.j41(0,"th",56),i.EFF(1," SLA "),i.k0s())}function bi(e,t){1&e&&i.nrm(0,"td",57)}function Ti(e,t){1&e&&(i.j41(0,"th",56),i.EFF(1," Tiempo "),i.k0s())}function Di(e,t){1&e&&i.nrm(0,"td",57)}function xi(e,t){1&e&&(i.j41(0,"th",56),i.EFF(1," Cumplimiento "),i.k0s())}function ki(e,t){1&e&&i.nrm(0,"td",57)}function zi(e,t){1&e&&(i.j41(0,"th",56),i.EFF(1," Acciones "),i.k0s())}function ji(e,t){if(1&e){const o=i.RV6();i.j41(0,"td",57)(1,"button",60),i.bIt("click",function(){const a=i.eBV(o).$implicit,c=i.XpG(2);return i.Njj(c.verDetalle(a))}),i.j41(2,"mat-icon"),i.EFF(3,"visibility"),i.k0s()(),i.j41(4,"button",61),i.bIt("click",function(a){const c=i.eBV(o).$implicit;return i.XpG(2).downloadPdf(c),i.Njj(a.stopPropagation())}),i.j41(5,"mat-icon"),i.EFF(6,"picture_as_pdf"),i.k0s()()()}}function Ii(e,t){1&e&&i.nrm(0,"tr",62)}function $i(e,t){1&e&&i.nrm(0,"tr",63)}function Ni(e,t){if(1&e){const o=i.RV6();i.j41(0,"mat-card",23)(1,"mat-card-header")(2,"mat-card-title"),i.EFF(3,"Resultados de la B\xfasqueda"),i.k0s(),i.j41(4,"mat-card-subtitle"),i.EFF(5),i.k0s()(),i.j41(6,"mat-card-content",4)(7,"div",31)(8,"button",32),i.bIt("click",function(){i.eBV(o);const a=i.XpG();return i.Njj(a.exportarExcel())}),i.j41(9,"mat-icon"),i.EFF(10,"file_download"),i.k0s(),i.EFF(11," Exportar a Excel "),i.k0s()(),i.j41(12,"div")(13,"table",33),i.qex(14,34),i.DNE(15,K,2,0,"th",35)(16,ii,2,1,"td",36),i.bVm(),i.qex(17,37),i.DNE(18,oi,2,0,"th",35)(19,ei,2,1,"td",36),i.bVm(),i.qex(20,38),i.DNE(21,ti,2,0,"th",35)(22,ai,2,1,"td",36),i.bVm(),i.qex(23,39),i.DNE(24,ni,2,0,"th",35)(25,si,2,1,"td",36),i.bVm(),i.qex(26,40),i.DNE(27,ci,2,0,"th",35)(28,ri,2,2,"td",36),i.bVm(),i.qex(29,41),i.DNE(30,li,2,0,"th",35)(31,mi,2,2,"td",42),i.bVm(),i.qex(32,43),i.DNE(33,di,2,0,"th",35)(34,pi,3,4,"td",36),i.bVm(),i.qex(35,44),i.DNE(36,ui,2,0,"th",35)(37,fi,2,2,"td",36),i.bVm(),i.qex(38,45),i.DNE(39,hi,2,0,"th",35)(40,_i,2,1,"td",36),i.bVm(),i.qex(41,46),i.DNE(42,vi,2,0,"th",35)(43,Fi,2,1,"td",36),i.bVm(),i.qex(44,47),i.DNE(45,Ci,2,0,"th",48)(46,Si,3,4,"td",36),i.bVm(),i.qex(47,49),i.DNE(48,gi,2,0,"th",35)(49,Ri,2,1,"td",36),i.bVm(),i.qex(50,50),i.DNE(51,Ei,2,0,"th",35)(52,bi,1,0,"td",36),i.bVm(),i.qex(53,51),i.DNE(54,Ti,2,0,"th",35)(55,Di,1,0,"td",36),i.bVm(),i.qex(56,52),i.DNE(57,xi,2,0,"th",35)(58,ki,1,0,"td",36),i.bVm(),i.qex(59,53),i.DNE(60,zi,2,0,"th",35)(61,ji,7,0,"td",36),i.bVm(),i.DNE(62,Ii,1,0,"tr",54)(63,$i,1,0,"tr",55),i.k0s()()()()}if(2&e){const o=i.XpG();i.R7$(5),i.SpI("Total: ",o.serviciosRealizados.length," registros encontrados "),i.R7$(8),i.Y8G("dataSource",o.serviciosRealizados),i.R7$(49),i.Y8G("matHeaderRowDef",o.displayedColumns),i.R7$(),i.Y8G("matRowDefColumns",o.displayedColumns)}}const Vi=[{path:"",component:(()=>{class e{constructor(o,n,a,c,u,f,r,S,yi){this.fb=o,this.serviciosService=n,this.tipoServicioService=a,this.serviciosRealizadosService=c,this.clientesService=u,this.storageService=f,this.router=r,this.facturacionService=S,this.solicitarVisitaService=yi,this.tiposServicio=[],this.tiposSolicitud=[{id:"todos",nombre:"Todos"},{id:"normal",nombre:"Normal"},{id:"urgente",nombre:"Urgente"},{id:"critico",nombre:"Cr\xedtico"},{id:"programado",nombre:"Programado"}],this.meses=[],this.isGruman=!1,this.clientes=[],this.serviciosRealizados=[],this.displayedColumns=["id","fechaIngreso","cliente","local","solicita","fechaVisita","tipoServicio","tecnico","sla","tiempo","cumplimiento","status","mesFacturacion","fechaValidacion","acciones"],this.panelOpenState=!0;const E=this.storageService.getCurrentUserWithCompany();E&&E.selectedCompany&&(this.selectedCompany=E.selectedCompany,this.isGruman="GRUMAN"===this.selectedCompany.nombre),this.initForm()}initForm(){this.programacionForm=this.fb.group({clientId:[""],tipoServicio:[null],tipo_mantenimiento:["todos"],diaSeleccionadoInicio:[null],diaSeleccionadoTermino:[null],mesFacturacion:[null],tipoBusqueda:["",l.k0.required]}),!this.isGruman&&this.selectedCompany?.id&&(this.programacionForm.patchValue({clientId:this.selectedCompany.id}),this.programacionForm.get("clientId")?.disable(),this.loadTiposServicio(this.selectedCompany.id)),this.isGruman&&this.programacionForm.get("clientId")?.valueChanges.subscribe(o=>{o?this.loadTiposServicio(o):this.tiposServicio=[],this.programacionForm.get("tipoServicio")?.setValue(null)}),this.programacionForm.get("tipoBusqueda")?.valueChanges.subscribe(o=>{const n=this.programacionForm.get("diaSeleccionadoInicio"),a=this.programacionForm.get("diaSeleccionadoTermino"),c=this.programacionForm.get("mesFacturacion");"rangoFechas"===o?(n?.setValidators([l.k0.required]),a?.setValidators([l.k0.required]),c?.clearValidators(),c?.setValue(null)):"mesFacturacion"===o&&(c?.setValidators([l.k0.required]),n?.clearValidators(),a?.clearValidators(),n?.setValue(null),a?.setValue(null)),n?.updateValueAndValidity(),a?.updateValueAndValidity(),c?.updateValueAndValidity()})}loadTiposServicio(o){const n=this.clientes.find(a=>a.id===o);n?(this.tiposServicio=n.tipoServicio.filter(a=>a.activo&&!a.deleted).map(a=>({id:a.id,nombre:a.nombre_servicio||a.nombre})),console.log("Tipos de servicio cargados:",this.tiposServicio)):this.isGruman||(this.tiposServicio=this.selectedCompany.tipoServicio?.filter(a=>a.activo&&!a.deleted).map(a=>({id:a.id,nombre:a.nombre_servicio||a.nombre}))||[])}fechaTerminoMayorQueInicio(o){const n=o.get("diaSeleccionadoInicio")?.value,a=o.get("diaSeleccionadoTermino")?.value;return n&&a&&a<n?{fechaTerminoMayorQueInicio:!0}:null}ngOnInit(){this.isGruman?this.loadClientes():this.loadTiposServicio(this.selectedCompany.id),this.getMeses()}loadClientes(){this.clientesService.getClientes().subscribe({next:o=>{this.clientes=o,console.log("Clientes cargados:",this.clientes.length)},error:o=>{console.error("Error al cargar clientes:",o),this.clientes=[]}})}onSubmit(){if(this.programacionForm.invalid)return;const o=this.programacionForm.value,n={tipoBusqueda:o.tipoBusqueda,clientId:this.isGruman?o.clientId:this.selectedCompany.id};o.tipoServicio&&"todos"!==o.tipoServicio&&(n.tipoServicio=o.tipoServicio),o.tipo_mantenimiento&&"todos"!==o.tipo_mantenimiento&&(n.tipo_mantenimiento=o.tipo_mantenimiento),"rangoFechas"===o.tipoBusqueda?(o.diaSeleccionadoInicio&&(n.fechaInicio=this.formatDate(o.diaSeleccionadoInicio)),o.diaSeleccionadoTermino&&(n.fechaFin=this.formatDate(o.diaSeleccionadoTermino))):"mesFacturacion"===o.tipoBusqueda&&o.mesFacturacion&&(n.mesFacturacion=o.mesFacturacion),console.log("[Component] Calling service with params:",n),this.serviciosRealizadosService.getAll(n).subscribe({next:a=>{a.success&&(this.serviciosRealizados=a.data,this.panelOpenState=!1,console.log("[Component] Servicios realizados:",this.serviciosRealizados))},error:a=>{console.error("[Component] Error:",a),d().fire({icon:"error",title:"Error",text:"No se pudieron cargar los servicios realizados"})}})}getMeses(){console.log("Obteniendo meses de facturaci\xf3n..."),this.facturacionService.obtenerMesesUnicos().subscribe(o=>{this.meses=o,console.log("Meses",this.meses)})}generarMesesDesdeRango(){console.log("Generando meses localmente..."),this.meses=["Enero 2025","Febrero 2025","Marzo 2025","Abril 2025","Mayo 2025","Junio 2025","Julio 2025","Agosto 2025","Septiembre 2025","Octubre 2025","Noviembre 2025","Diciembre 2025","Enero 2026","Febrero 2026","Marzo 2026","Abril 2026","Mayo 2026"],console.log("Meses generados localmente:",this.meses)}formatDate(o){return o?new Date(o).toLocaleDateString("es-CL"):""}checkIfGruman(){if(!this.selectedCompany||!this.selectedCompany.nombre)return!1;const o=this.selectedCompany.nombre.trim().toUpperCase(),n="GRUMAN"===o;return console.log("Company name:",o),console.log("Is Gruman check:",n),n}verDetalle(o){const n=this.router.serializeUrl(this.router.createUrlTree(["/transacciones/servicios-realizados",o.id]));window.open(n,"_blank")}exportarExcel(){if(!this.serviciosRealizados||0===this.serviciosRealizados.length)return void d().fire({icon:"warning",title:"Sin datos",text:"No hay datos para exportar a Excel"});const o=this.serviciosRealizados.map(r=>({"N\xfamero de Solicitud":r.id,Cliente:r.client?.nombre||"No asignado",Local:r.local?.nombre_local||"No asignado","Fecha de Visita":this.formatDate(r.fechaVisita),"Tipo de Servicio":r.tipoServicio?.nombre||"No especificado",T\u00e9cnico:r.tecnico_asignado?`${r.tecnico_asignado.name} ${r.tecnico_asignado.lastName}`:"No asignado","T\xe9cnico 2":r.tecnico_asignado_2?`${r.tecnico_asignado_2.name} ${r.tecnico_asignado_2.lastName}`:"No asignado","Tipo Mantenimiento":r.tipo_mantenimiento||"No especificado",Estado:r.status||"No definido","Mes Facturaci\xf3n":r.facturacion?.mes||"No asignado",Observaciones:r.observaciones||"Sin observaciones"})),n=C.Wp.book_new(),a=C.Wp.json_to_sheet(o);a["!cols"]=[{wch:10},{wch:30},{wch:30},{wch:15},{wch:25},{wch:30},{wch:30},{wch:20},{wch:15},{wch:20},{wch:50}],C.Wp.book_append_sheet(n,a,"Servicios Realizados");const f=`Servicios_Realizados_${(new Date).toISOString().split("T")[0]}.xlsx`;C._h(n,f),d().fire({icon:"success",title:"Exportaci\xf3n exitosa",text:"El archivo Excel se ha descargado correctamente",timer:2e3,showConfirmButton:!1})}downloadPdf(o){d().fire({title:"Generando PDF",text:"Por favor espere...",allowOutsideClick:!1,didOpen:()=>{d().showLoading()}}),this.solicitarVisitaService.downloadPdf(o.id).subscribe({next:n=>{if(0===n.size)return void d().fire({icon:"error",title:"Error",text:"El PDF generado est\xe1 vac\xedo"});const a=window.URL.createObjectURL(n),c=document.createElement("a");c.href=a,c.download=`solicitud-${o.id}.pdf`,c.click(),window.URL.revokeObjectURL(a),d().close()},error:n=>{console.error("Error descargando PDF:",n),d().fire({icon:"error",title:"Error",text:"No se pudo generar el PDF. Por favor intente nuevamente."})}})}static#i=this.\u0275fac=function(n){return new(n||e)(i.rXU(l.ok),i.rXU(V.P),i.rXU(y.Q),i.rXU(G.h),i.rXU(M.T),i.rXU(w.n),i.rXU(k.Ix),i.rXU(O.P),i.rXU(U.I))};static#o=this.\u0275cmp=i.VBU({type:e,selectors:[["app-servicios-realizados"]],standalone:!0,features:[i.aNF],decls:46,vars:11,consts:[["pickerInicio",""],["pickerTermino",""],[1,"cardWithShadow","mb-4"],[3,"expanded"],[1,"p-24"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"w-100"],["formControlName","tipoServicio"],["value","todos"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","tipoSolicitud"],[3,"value"],["class","row",4,"ngIf"],[1,"row"],[1,"col-sm-4","d-flex","align-items-center"],[1,"mat-subtitle-2","f-w-600","d-block","m-b-16"],[1,"col-sm-8"],["formControlName","tipoBusqueda"],["value","rangoFechas"],["value","mesFacturacion"],[1,"col-sm-12","d-flex","justify-content-end"],["mat-flat-button","","color","primary","type","submit"],[1,"cardWithShadow"],["formControlName","clientId"],["matInput","","formControlName","diaSeleccionadoInicio","placeholder","Seleccionar D\xeda Inicio",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","diaSeleccionadoTermino","placeholder","Seleccionar D\xeda T\xe9rmino",3,"matDatepicker"],[1,"col-12","d-flex","justify-content-center"],[1,"col-md-4"],["formControlName","mesFacturacion"],[1,"action-buttons","mb-3"],["mat-stroked-button","","color","primary",3,"click"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fechaIngreso"],["matColumnDef","tipoServicio"],["matColumnDef","cliente"],["matColumnDef","solicita"],["matColumnDef","local"],["mat-cell","","matTooltipPosition","above",3,"matTooltip",4,"matCellDef"],["matColumnDef","fechaVisita"],["matColumnDef","tecnico"],["matColumnDef","status"],["matColumnDef","observaciones"],["matColumnDef","fechaValidacion"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","mesFacturacion"],["matColumnDef","sla"],["matColumnDef","tiempo"],["matColumnDef","cumplimiento"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","","matTooltipPosition","above",3,"matTooltip"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","color","primary","matTooltip","Ver en nueva pesta\xf1a",3,"click"],["mat-icon-button","","color","primary","matTooltip","Descargar PDF",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,a){if(1&n&&(i.j41(0,"mat-card",2)(1,"mat-card-header")(2,"mat-card-title"),i.EFF(3,"Filtros de B\xfasqueda"),i.k0s()(),i.j41(4,"mat-expansion-panel",3)(5,"mat-expansion-panel-header")(6,"mat-panel-description"),i.EFF(7),i.k0s()(),i.j41(8,"mat-card-content",4)(9,"form",5),i.bIt("ngSubmit",function(){return a.onSubmit()}),i.DNE(10,P,8,0,"mat-form-field",6),i.j41(11,"mat-form-field",6)(12,"mat-label"),i.EFF(13,"Tipo de Servicio"),i.k0s(),i.j41(14,"mat-select",7)(15,"mat-option",8),i.EFF(16,"Todos"),i.k0s(),i.DNE(17,B,2,2,"mat-option",9),i.k0s(),i.DNE(18,X,2,0,"mat-error",10),i.k0s(),i.j41(19,"mat-form-field",6)(20,"mat-label"),i.EFF(21,"Tipo de Solicitud"),i.k0s(),i.j41(22,"mat-select",11)(23,"mat-option"),i.EFF(24,"Seleccione un tipo de solicitud"),i.k0s(),i.Z7z(25,L,2,2,"mat-option",12,I),i.k0s(),i.DNE(27,q,2,0,"mat-error",10),i.k0s(),i.DNE(28,Z,10,2,"div",13)(29,W,11,3,"div",13)(30,Q,9,0,"div",13),i.j41(31,"div",14)(32,"div",15)(33,"mat-label",16),i.EFF(34,"Tipo de B\xfasqueda"),i.k0s()(),i.j41(35,"div",17)(36,"mat-radio-group",18)(37,"mat-radio-button",19),i.EFF(38,"Rango de Fechas"),i.k0s(),i.j41(39,"mat-radio-button",20),i.EFF(40,"Mes de Facturaci\xf3n"),i.k0s()()()(),i.j41(41,"div",14)(42,"div",21)(43,"button",22),i.EFF(44,"Buscar"),i.k0s()()()()()()(),i.DNE(45,Ni,64,4,"mat-card",23)),2&n){let c,u,f,r,S;i.R7$(4),i.Y8G("expanded",a.panelOpenState),i.R7$(3),i.SpI(" Click para ",a.panelOpenState?"ocultar":"mostrar"," filtros "),i.R7$(2),i.Y8G("formGroup",a.programacionForm),i.R7$(),i.vxM(a.isGruman?10:-1),i.R7$(7),i.Y8G("ngForOf",a.tiposServicio),i.R7$(),i.Y8G("ngIf",null==(c=a.programacionForm.get("tipoServicio"))?null:c.hasError("required")),i.R7$(7),i.Dyx(a.tiposSolicitud),i.R7$(2),i.Y8G("ngIf",null==(u=a.programacionForm.get("tipoSolicitud"))?null:u.hasError("required")),i.R7$(),i.Y8G("ngIf","rangoFechas"===(null==(f=a.programacionForm.get("tipoBusqueda"))?null:f.value)),i.R7$(),i.Y8G("ngIf","rangoFechas"===(null==(r=a.programacionForm.get("tipoBusqueda"))?null:r.value)),i.R7$(),i.Y8G("ngIf","mesFacturacion"===(null==(S=a.programacionForm.get("tipoBusqueda"))?null:S.value)),i.R7$(15),i.vxM(a.serviciosRealizados.length>0?45:-1)}},dependencies:[k.iI,j.m_,j.An,_.MD,_.Sq,_.bT,_.vh,p.Hu,p.RN,p.m2,p.MM,p.Lc,p.dh,h.RG,h.rl,h.nJ,h.TL,h.yw,D.fS,D.fg,l.X1,l.qT,l.me,l.BC,l.cb,l.j4,l.JD,l.YN,x.Ve,x.VO,T.wT,v.X6,v.Vh,v.bZ,v.bU,T.WX,R.Wk,R.VT,R._g,g.Hl,g.$z,g.iY,m.tP,m.Zl,m.tL,m.ji,m.cC,m.YV,m.iL,m.KS,m.$R,m.YZ,m.NB,F.MY,F.GK,F.Z2,F.Q6,z.uc,z.oV],styles:[".mb-4[_ngcontent-%COMP%]{margin-bottom:1.5rem}.mat-mdc-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}.mat-mdc-card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:500;margin-bottom:8px}.mat-mdc-card-subtitle[_ngcontent-%COMP%]{color:#0009}.table-container[_ngcontent-%COMP%]{position:relative;min-height:200px;max-height:600px;overflow:auto}"]})}return e})(),data:{title:"Servicios Realizados"}},{path:":id",component:$.m,data:{title:"Detalle del Servicio"}}]}}]);